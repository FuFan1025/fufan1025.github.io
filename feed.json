{
    "version": "https://jsonfeed.org/version/1",
    "title": "FuFan's Blog",
    "subtitle": "",
    "icon": "https://fufan1025.github.io/assets/favicon.ico",
    "description": "凡凡的笔记之家",
    "home_page_url": "https://fufan1025.github.io",
    "items": [
        {
            "id": "https://fufan1025.github.io/2024/05/14/MySQL/",
            "url": "https://fufan1025.github.io/2024/05/14/MySQL/",
            "title": "MySQL",
            "date_published": "2024-05-14T14:44:43.000Z",
            "content_html": "<h1 id=\"认识数据库\"><a class=\"anchor\" href=\"#认识数据库\">#</a> 认识数据库</h1>\n<h2 id=\"数据组织形式\"><a class=\"anchor\" href=\"#数据组织形式\">#</a> 数据组织形式</h2>\n<p>库 =&gt; 表 =&gt; 数据</p>\n<h2 id=\"数据库管理软件\"><a class=\"anchor\" href=\"#数据库管理软件\">#</a> 数据库管理软件</h2>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">甲骨文</th>\n<th style=\"text-align:center\">MySQL</th>\n<th style=\"text-align:center\">SQL Server</th>\n<th style=\"text-align:center\">PostgreSQL</th>\n<th style=\"text-align:center\">SQLite</th>\n</tr>\n</thead>\n</table>\n<h2 id=\"数据库和sql的关系\"><a class=\"anchor\" href=\"#数据库和sql的关系\">#</a> 数据库和 SQL 的关系</h2>\n<p>具有操作</p>\n<ul>\n<li>数据的增加</li>\n<li>数据的删除</li>\n<li>数据的修改</li>\n<li>数据的查询</li>\n<li>数据库，数据表的管理</li>\n</ul>\n<p>等等</p>\n<p>而 SQL 语言，就是一种对数据库，数据进行操作，管理，查理的工具.</p>\n<h2 id=\"简单的数据库操作命令\"><a class=\"anchor\" href=\"#简单的数据库操作命令\">#</a> 简单的数据库操作命令</h2>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">命令</th>\n<th style=\"text-align:center\">作用</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">show databases</td>\n<td style=\"text-align:center\">查看有哪些数据库</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">use 数据库名</td>\n<td style=\"text-align:center\">使用某个数据库</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">show tables</td>\n<td style=\"text-align:center\">查看数据库内有哪些表</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">exit</td>\n<td style=\"text-align:center\">退出命令行环境</td>\n</tr>\n</tbody>\n</table>\n<h1 id=\"sql语言基础\"><a class=\"anchor\" href=\"#sql语言基础\">#</a> SQL 语言基础</h1>\n<h2 id=\"操作数据库的专用工具\"><a class=\"anchor\" href=\"#操作数据库的专用工具\">#</a> 操作数据库的专用工具</h2>\n<ul>\n<li>SQL 全称: Structured Query Language，结构化查询语言，用于访问和处理数据库的标准的计算机语言 SQL 语言 1974 年由 Boyce 和 Chamberlin 提出，并首先在 IBM 公司研制的关系数据库系统 SystemR 上实现。</li>\n<li>经过多年发展，SOL 以成为数据库领域统一的数据操作标准语言，可以说几乎市面上所有的数据库系统都支持使用 SQL 语言来操作</li>\n</ul>\n<h2 id=\"sql语言的分类\"><a class=\"anchor\" href=\"#sql语言的分类\">#</a> SQL 语言的分类</h2>\n<ul>\n<li>\n<p>数据定义 (DDL)</p>\n<p>库的创建删除，表的创建删除等</p>\n</li>\n<li>\n<p>数据操纵 (DML)</p>\n<p>新增数据，删除数据</p>\n</li>\n<li>\n<p>数据控制 (DCL)</p>\n<p>新增用户，删除用户，密码修改，权限管理等</p>\n</li>\n<li>\n<p>数据查询 (DQL)</p>\n<p>基于需求查询和计算数据</p>\n</li>\n</ul>\n<h2 id=\"sql的语法特征\"><a class=\"anchor\" href=\"#sql的语法特征\">#</a> SQL 的语法特征</h2>\n<ul>\n<li>大小写不敏感</li>\n<li>可以单行或者多行书写，最后用；(分号) 结束</li>\n<li>支持注释</li>\n</ul>\n<hr />\n<h1 id=\"语法\"><a class=\"anchor\" href=\"#语法\">#</a> 语法</h1>\n<ul>\n<li>DDL 数据定义</li>\n<li>DML 数据操作</li>\n<li>DCL 数据控制</li>\n<li>DQL 数据查询</li>\n</ul>\n<hr />\n<h2 id=\"ddl\"><a class=\"anchor\" href=\"#ddl\">#</a> DDL</h2>\n<h3 id=\"ddl-库管理\"><a class=\"anchor\" href=\"#ddl-库管理\">#</a> DDL - 库管理</h3>\n<table>\n<thead>\n<tr>\n<th>操作</th>\n<th>作用</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>show databases</td>\n<td>查看数据库</td>\n</tr>\n<tr>\n<td>use 数据库名称</td>\n<td>使用数据库</td>\n</tr>\n<tr>\n<td>create database 数据库名称 [charest UTF8]</td>\n<td>创建数据库</td>\n</tr>\n<tr>\n<td>drop databases</td>\n<td>删除数据库</td>\n</tr>\n<tr>\n<td>select database()</td>\n<td>查看当前使用的数据库</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"ddl-表管理\"><a class=\"anchor\" href=\"#ddl-表管理\">#</a> DDL - 表管理</h3>\n<table>\n<thead>\n<tr>\n<th>操作</th>\n<th>作用</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>show tables (先选择)</td>\n<td>查看有哪些表</td>\n</tr>\n<tr>\n<td>drop table 表名称；</td>\n<td>删除表</td>\n</tr>\n<tr>\n<td>drop table if exists 表名称</td>\n<td>创建</td>\n</tr>\n<tr>\n<td>create  table 表名称 (列名称 列类型)</td>\n<td>创建表</td>\n</tr>\n</tbody>\n</table>\n<p>列类型</p>\n<table>\n<thead>\n<tr>\n<th>类型</th>\n<th>名字</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>int</td>\n<td>整数</td>\n</tr>\n<tr>\n<td>float</td>\n<td>浮点数</td>\n</tr>\n<tr>\n<td>varchar</td>\n<td>文本，长度为数字，做最大长度限制</td>\n</tr>\n<tr>\n<td>date</td>\n<td>日期类型</td>\n</tr>\n<tr>\n<td>timestamp</td>\n<td>时间戳类型</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"dml\"><a class=\"anchor\" href=\"#dml\">#</a> DML</h2>\n<pre><code>  1.   INSERT 插入\n  2.   DELETE 删除\n  3.   UPDATE 更新\n</code></pre>\n<hr />\n<p>基础语法</p>\n<p>插入</p>\n<pre><code class=\"language-mysql\">insert into 表[(列1,列2,......,列N)] values(值1,值2,......,值N)[,(值1,值2,......,值N),......,(值1,值2,......,值N)]\n</code></pre>\n<p>删除</p>\n<pre><code class=\"language-mysql\">delete from 表名称 [where 条件];\n</code></pre>\n<p>更新</p>\n<pre><code class=\"language-mysql\">update 表名 set 列 = 值 [where 条件判断];\n</code></pre>\n<h2 id=\"dql\"><a class=\"anchor\" href=\"#dql\">#</a> DQL</h2>\n<pre><code>  1.   基础查询\n  2.   分组聚合\n  3.   排序分页\n</code></pre>\n<hr />\n<pre><code>1.   基础查询的语法\n</code></pre>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">select</span> 字段列表 <span class=\"token operator\">|</span><span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> 表</pre></td></tr></table></figure><ul>\n<li>过滤查询</li>\n</ul>\n<pre><code class=\"language-mysql\">select 字段列表 |* FROM 表 where 条件判断\n</code></pre>\n<p>分组聚合</p>\n<pre><code class=\"language-mysql\">select 字段|聚合函数 From 表 [where 条件] group by 列\n</code></pre>\n<blockquote>\n<p>聚合函数</p>\n</blockquote>\n<pre><code class=\"language-mysql\">sum(列) 求和\nAVG(列) 求平均值\nMIN(列) 求最小值\nMAX(列) 求最大值\nCOUNT(列|*) 求数量\n</code></pre>\n<pre><code>  3.   排序和分页\n</code></pre>\n<pre><code class=\"language-mysql\">select 字段|聚合函数 From 表\nwhere #筛选\ngroup by # 分组\norder by [asc|desc] # 升序|降序\nlimit n[,m] # 跳过n行的显示,从n+1行开始显示m行\n</code></pre>\n<h1 id=\"注意\"><a class=\"anchor\" href=\"#注意\">#</a> 注意</h1>\n<blockquote>\n<p>执行顺序</p>\n</blockquote>\n<pre><code class=\"language-mysql\">from -&gt; where -&gt;group by 和 聚合函数 -&gt; select -&gt; order by -&gt; limit\n</code></pre>\n<ul>\n<li>where , group by , order by , limit</li>\n<li>select 和 from 是必写的</li>\n</ul>\n",
            "tags": [
                "编程语言"
            ]
        },
        {
            "id": "https://fufan1025.github.io/2024/05/14/%E7%B3%BB%E7%BB%9F%E7%BB%B4%E6%8A%A4%E5%8F%82%E8%80%83%E5%90%88%E9%9B%86/",
            "url": "https://fufan1025.github.io/2024/05/14/%E7%B3%BB%E7%BB%9F%E7%BB%B4%E6%8A%A4%E5%8F%82%E8%80%83%E5%90%88%E9%9B%86/",
            "title": "系统维护参考合集",
            "date_published": "2024-05-14T14:31:55.000Z",
            "content_html": "<h1 id=\"windows\"><a class=\"anchor\" href=\"#windows\">#</a> Windows</h1>\n<h2 id=\"审核策略更改\"><a class=\"anchor\" href=\"#审核策略更改\">#</a> 审核策略更改</h2>\n<p>组策略 - Windows 设置 - 安全设置 - 本地策略 - 审核策略</p>\n<h2 id=\"可移动磁盘策略\"><a class=\"anchor\" href=\"#可移动磁盘策略\">#</a> 可移动磁盘策略</h2>\n<p>模板开启筛选器搜索 (完全匹配) - 搜索  <code>可移动磁盘</code></p>\n<hr />\n<h2 id=\"利用组策略达到禁止别人改动桌面某些设置的目的\"><a class=\"anchor\" href=\"#利用组策略达到禁止别人改动桌面某些设置的目的\">#</a> 利用组策略达到禁止别人改动桌面某些设置的目的</h2>\n<p><img loading=\"lazy\" data-src=\"https://gitee.com/fufan1025/note_img/raw/master/%E7%BB%B4%E6%8A%A4/config.png\" alt=\"\" /></p>\n<h2 id=\"将硬盘分区从fat32转换为ntfs\"><a class=\"anchor\" href=\"#将硬盘分区从fat32转换为ntfs\">#</a> 将硬盘分区从 <code>FAT32</code>  转换为 <code>NTFS</code></h2>\n<pre><code class=\"language-cmd\">convert f: /fs:ntfs /x #f为要转换的盘符\n</code></pre>\n<hr />\n<h2 id=\"组策略更改管理员账号名\"><a class=\"anchor\" href=\"#组策略更改管理员账号名\">#</a> 组策略更改管理员账号名</h2>\n<p>组策略 - 计算机配置 - windows 设置 - 安全设置 - 本地策略 - 安全选项</p>\n<h2 id=\"通过组策略屏蔽之前登录的用户信息\"><a class=\"anchor\" href=\"#通过组策略屏蔽之前登录的用户信息\">#</a> 通过组策略屏蔽之前登录的用户信息</h2>\n<p>组策略 - 计算机配置 - 管理模板 - windows 组件 - windows 登录选项</p>\n<h2 id=\"通过组策略显示详细的关机-或开机-过程方便出现系统异常的故障排查\"><a class=\"anchor\" href=\"#通过组策略显示详细的关机-或开机-过程方便出现系统异常的故障排查\">#</a> 通过组策略显示详细的关机 (或开机) 过程，方便出现系统异常的故障排查</h2>\n<p>组策略 - 计算机配置 - 管理模板 - 系统 - 显示非常详细的状态消息</p>\n<h2 id=\"使用组策略禁止-ie-浏览器更改主页设置\"><a class=\"anchor\" href=\"#使用组策略禁止-ie-浏览器更改主页设置\">#</a> 使用组策略禁止 IE 浏览器更改主页设置</h2>\n<p>用户配置 - 管理模板 - IE - 禁用更改主页设置</p>\n<hr />\n<h2 id=\"查看当前计算机的初始安装日期和系统启动时间\"><a class=\"anchor\" href=\"#查看当前计算机的初始安装日期和系统启动时间\">#</a> 查看当前计算机的初始安装日期和系统启动时间</h2>\n<pre><code class=\"language-cmd\">systeminfo |findstr -i &quot;初始安装日期 系统启动时间&quot;\n</code></pre>\n<h2 id=\"查看系统共享服务\"><a class=\"anchor\" href=\"#查看系统共享服务\">#</a> 查看系统共享服务</h2>\n<pre><code class=\"language-cmd\">net share\n\nnet share 服务名 #开启服务共享\n\nnet share 服务名 #删除开启的共享服务\n</code></pre>\n<h2 id=\"关机指令\"><a class=\"anchor\" href=\"#关机指令\">#</a> 关机指令</h2>\n<pre><code class=\"language-cmd\">shutdown /s /t &quot;times&quot;\n</code></pre>\n<ul>\n<li>/s 关机指令</li>\n<li>/t 设置关机时间 例：3600 为一个小时</li>\n<li>/a 取消关机</li>\n</ul>\n<hr />\n<h2 id=\"生成目录树结构\"><a class=\"anchor\" href=\"#生成目录树结构\">#</a> 生成目录树结构</h2>\n<pre><code class=\"language-cmd\">tree &quot;文件夹路径&quot; &gt; xxx.txt\n</code></pre>\n<h2 id=\"拷贝文件\"><a class=\"anchor\" href=\"#拷贝文件\">#</a> 拷贝文件</h2>\n<pre><code class=\"language-cmd\">copy text.txt c:\\doc\\key_bak.txt\n</code></pre>\n<h2 id=\"查找文件中-ok\"><a class=\"anchor\" href=\"#查找文件中-ok\">#</a> 查找文件中  <code>ok</code></h2>\n<pre><code class=\"language-cmd\">find &quot;ok&quot; '文件路径' &amp;&amp; echo &quot;成功&quot; || echo &quot;不成功&quot;\n</code></pre>\n<hr />\n<h2 id=\"查看网络连接以及每一个网络接口设备状态\"><a class=\"anchor\" href=\"#查看网络连接以及每一个网络接口设备状态\">#</a> 查看网络连接以及每一个网络接口设备状态</h2>\n<pre><code class=\"language-cmd\">netstat -an\n</code></pre>\n<hr />\n<h2 id=\"将工作站计算机配置指定域名和-1921680138-这个-ip-绑定\"><a class=\"anchor\" href=\"#将工作站计算机配置指定域名和-1921680138-这个-ip-绑定\">#</a> 将工作站计算机配置【指定域名】和 192.168.0.138 这个 IP 绑定</h2>\n<ol>\n<li>打开  <code>C:\\Windows\\System32\\drivers\\etc\\hosts</code></li>\n<li>在文件的末尾添加一行，格式为 “IP 地址 域名”，例如 “192.168.0.138   指定域名”</li>\n</ol>\n<h2 id=\"通过命令跟踪tcpip-数据包路径\"><a class=\"anchor\" href=\"#通过命令跟踪tcpip-数据包路径\">#</a> 通过命令跟踪 TCP/IP 数据包路径</h2>\n<pre><code class=\"language-cmd\">tracert www.baidu.com\n</code></pre>\n<hr />\n<h2 id=\"打开本地windows服务界面\"><a class=\"anchor\" href=\"#打开本地windows服务界面\">#</a> 打开本地 Windows 服务界面</h2>\n<pre><code class=\"language-cmd\">services.msc\n</code></pre>\n<h2 id=\"打开本地安全策略窗口\"><a class=\"anchor\" href=\"#打开本地安全策略窗口\">#</a> 打开本地安全策略窗口</h2>\n<pre><code class=\"language-cmd\">secpol.msc\n</code></pre>\n<h2 id=\"打开屏幕键盘\"><a class=\"anchor\" href=\"#打开屏幕键盘\">#</a> 打开屏幕键盘</h2>\n<pre><code class=\"language-cmd\">OSK\n</code></pre>\n<hr />\n<h1 id=\"ubuntu\"><a class=\"anchor\" href=\"#ubuntu\">#</a> Ubuntu</h1>\n<h2 id=\"查看当前用户登录信息\"><a class=\"anchor\" href=\"#查看当前用户登录信息\">#</a> 查看当前用户登录信息</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>w</pre></td></tr></table></figure><h2 id=\"设置账号密码最小长度值在6位以上\"><a class=\"anchor\" href=\"#设置账号密码最小长度值在6位以上\">#</a> 设置账号密码最小长度值在 6 位以上</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token function\">nano</span> /etc/pam.d/common-password</pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>password        <span class=\"token punctuation\">[</span>success<span class=\"token operator\">=</span><span class=\"token number\">1</span> <span class=\"token assign-left variable\">default</span><span class=\"token operator\">=</span>ignore<span class=\"token punctuation\">]</span> pam_unix.so obscure sha512 <span class=\"token assign-left variable\">minlen</span><span class=\"token operator\">=</span><span class=\"token number\">6</span></pre></td></tr></table></figure><h2 id=\"设置账号登录失败三次锁定60秒\"><a class=\"anchor\" href=\"#设置账号登录失败三次锁定60秒\">#</a> 设置账号登录失败三次锁定 60 秒</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token function\">vim</span> /etc/pam.d/sshd  <span class=\"token comment\"># 对于 SSH 远程登录  </span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token function\">vim</span> /etc/pam.d/login  <span class=\"token comment\"># 对于终端窗口登录</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token function\">nano</span> /etc/pam.d/common-auth  <span class=\"token comment\">#全局</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\">#添加配置</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>auth required pam_tally2.so <span class=\"token assign-left variable\">deny</span><span class=\"token operator\">=</span><span class=\"token number\">3</span> <span class=\"token assign-left variable\">unlock_time</span><span class=\"token operator\">=</span><span class=\"token number\">60</span> even_deny_root <span class=\"token assign-left variable\">root_unlock_time</span><span class=\"token operator\">=</span><span class=\"token number\">60</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>auth required pam_tally2.so：启用<span class=\"token variable\"><span class=\"token variable\">`</span>pam_tally2<span class=\"token variable\">`</span></span>模块来进行登录失败的计数。  </pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token assign-left variable\">deny</span><span class=\"token operator\">=</span><span class=\"token number\">3</span>：设置连续错误登录的最大次数为3次。  </pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token assign-left variable\">unlock_time</span><span class=\"token operator\">=</span><span class=\"token number\">60</span>：设置普通用户在达到最大错误登录次数后被锁定的时间，单位为秒（这里是60秒）。  </pre></td></tr><tr><td data-num=\"12\"></td><td><pre>even_deny_root：也限制root用户的登录尝试。  </pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token assign-left variable\">root_unlock_time</span><span class=\"token operator\">=</span><span class=\"token number\">60</span>：设置root用户在达到最大错误登录次数后被锁定的时间，单位也为秒（这里是60秒）。</pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token comment\">#修改完后需重启 SSH 服务</span></pre></td></tr></table></figure><hr />\n<h2 id=\"解压缩文件\"><a class=\"anchor\" href=\"#解压缩文件\">#</a> 解压缩文件</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">tar</span> <span class=\"token parameter variable\">-zxvf</span> xxx.tar.gz <span class=\"token comment\">#解压</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">tar</span> <span class=\"token parameter variable\">-zcvf</span> xxx.tar.tgz FileName <span class=\"token comment\">#压缩</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token function\">tar</span> <span class=\"token parameter variable\">-zcvf</span> xxx.tar.gz aaa bbb</pre></td></tr></table></figure><h2 id=\"查看文件夹权限\"><a class=\"anchor\" href=\"#查看文件夹权限\">#</a> 查看文件夹权限</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">ls</span> <span class=\"token parameter variable\">-ld</span> 文件名</pre></td></tr></table></figure><h2 id=\"设置文件夹权限\"><a class=\"anchor\" href=\"#设置文件夹权限\">#</a> 设置文件夹权限</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">chmod</span> <span class=\"token number\">777</span> 文件夹</pre></td></tr></table></figure><h2 id=\"安装deb安装包\"><a class=\"anchor\" href=\"#安装deb安装包\">#</a> 安装 <code>deb</code>  安装包</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>dpkg <span class=\"token parameter variable\">-i</span> xxx.deb</pre></td></tr></table></figure><hr />\n<h2 id=\"开通root用户ssh访问权限\"><a class=\"anchor\" href=\"#开通root用户ssh访问权限\">#</a> 开通 ROOT 用户 SSH 访问权限</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token function\">nano</span> /etc/ssh/sshd_config</pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">#找到 PermitRootLogin 然后，将这一行的值改为 yes, 重启 SSH 服务</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token function\">sudo</span> systemctl restart sshd 或 <span class=\"token function\">sudo</span> <span class=\"token function\">service</span> <span class=\"token function\">ssh</span> restart</pre></td></tr></table></figure><hr />\n<h2 id=\"查询网卡详细工作状态\"><a class=\"anchor\" href=\"#查询网卡详细工作状态\">#</a> 查询网卡详细工作状态</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">#默认没有这个模块，需要安装</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">ethtool</span> 网卡</pre></td></tr></table></figure><h2 id=\"创建文件夹和文件\"><a class=\"anchor\" href=\"#创建文件夹和文件\">#</a> 创建文件夹和文件</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">mkdir</span> 文件夹名</pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">touch</span> 文件名</pre></td></tr></table></figure><h2 id=\"设置新用户密码有效期\"><a class=\"anchor\" href=\"#设置新用户密码有效期\">#</a> 设置新用户密码有效期</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token function\">nano</span> /etc/login.defs</pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>PASS_MAX_DAYS   <span class=\"token number\">30</span> \t<span class=\"token comment\">#密码最长使用天数</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>PASS_MIN_DAYS   <span class=\"token number\">1</span>\t<span class=\"token comment\">#两次密码修改之间最小间隔天数</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>PASS_WARN_AGE   <span class=\"token number\">3</span>\t<span class=\"token comment\">#密码过期前警告天数</span></pre></td></tr></table></figure><hr />\n<h2 id=\"查询下载包的临时存放目录\"><a class=\"anchor\" href=\"#查询下载包的临时存放目录\">#</a> 查询下载包的临时存放目录</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">ls</span> /var/cache/apt/archives/\t<span class=\"token comment\">#查看</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token function\">apt-get</span> autoclean\t<span class=\"token comment\">#清除</span></pre></td></tr></table></figure><h2 id=\"备份当前系统安装的所有包的列表\"><a class=\"anchor\" href=\"#备份当前系统安装的所有包的列表\">#</a> 备份当前系统安装的所有包的列表</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>dpkg --get-selections xxx.txt</pre></td></tr></table></figure><h2 id=\"查看目录的总大小\"><a class=\"anchor\" href=\"#查看目录的总大小\">#</a> 查看目录的总大小</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">du</span> <span class=\"token parameter variable\">-sh</span> /目录</pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>* <span class=\"token variable\"><span class=\"token variable\">`</span><span class=\"token parameter variable\">-s</span><span class=\"token variable\">`</span></span> 表示汇总输出，只显示指定目录的总大小。  </pre></td></tr><tr><td data-num=\"4\"></td><td><pre>* <span class=\"token variable\"><span class=\"token variable\">`</span><span class=\"token parameter variable\">-h</span><span class=\"token variable\">`</span></span> 表示以人类可读的格式（例如K，M，G）显示信息。</pre></td></tr></table></figure><hr />\n<h2 id=\"使用ufw允许tcp的5505端口访问本机\"><a class=\"anchor\" href=\"#使用ufw允许tcp的5505端口访问本机\">#</a> 使用 UFW 允许 TCP 的 5505 端口访问本机</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>ufw allow <span class=\"token number\">5505</span>/tcp</pre></td></tr></table></figure><h2 id=\"使用ufw允许1921680200访问本机\"><a class=\"anchor\" href=\"#使用ufw允许1921680200访问本机\">#</a> 使用 UFW 允许 192.168.0.200 访问本机</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> ufw allow from <span class=\"token number\">192.168</span>.0.200</pre></td></tr></table></figure><h2 id=\"修改ssh服务远程连接默认端口\"><a class=\"anchor\" href=\"#修改ssh服务远程连接默认端口\">#</a> 修改 SSH 服务远程连接默认端口</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token function\">nano</span> /etc/ssh/sshd_config</pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">#修改后需重启 SSH 服务</span></pre></td></tr></table></figure><hr />\n<h2 id=\"查看当前操作系统版本信息\"><a class=\"anchor\" href=\"#查看当前操作系统版本信息\">#</a> 查看当前操作系统版本信息</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">cat</span> /etc/lsb-release</pre></td></tr></table></figure><h2 id=\"查看系统内核限制图片存疑\"><a class=\"anchor\" href=\"#查看系统内核限制图片存疑\">#</a> 查看系统内核限制 (图片存疑)</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>ipcs <span class=\"token parameter variable\">-l</span></pre></td></tr></table></figure><hr />\n<h2 id=\"查询已安装的包\"><a class=\"anchor\" href=\"#查询已安装的包\">#</a> 查询已安装的包</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> dpkg <span class=\"token parameter variable\">-l</span></pre></td></tr></table></figure><h2 id=\"允许tcp协议通过网卡的80端口进如服务器\"><a class=\"anchor\" href=\"#允许tcp协议通过网卡的80端口进如服务器\">#</a> 允许 TCP 协议通过网卡的 80 端口进如服务器</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> iptables <span class=\"token parameter variable\">-A</span> INPUT <span class=\"token parameter variable\">-p</span> tcp <span class=\"token parameter variable\">--dport</span> <span class=\"token number\">80</span> <span class=\"token parameter variable\">-j</span> ACCEPT</pre></td></tr></table></figure><h2 id=\"使用命令查询usb设备详细描述信息\"><a class=\"anchor\" href=\"#使用命令查询usb设备详细描述信息\">#</a> 使用命令查询 USB 设备详细描述信息</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>lsusb <span class=\"token parameter variable\">-v</span></pre></td></tr></table></figure><hr />\n<h2 id=\"查看内存使用情况\"><a class=\"anchor\" href=\"#查看内存使用情况\">#</a> 查看内存使用情况</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">free</span></pre></td></tr></table></figure><hr />\n<h1 id=\"数据库\"><a class=\"anchor\" href=\"#数据库\">#</a> 数据库</h1>\n<h2 id=\"windows离线安装mysql\"><a class=\"anchor\" href=\"#windows离线安装mysql\">#</a> Windows 离线安装 <code>mysql</code></h2>\n<p>将 U 盘中 mysql 文件夹解压，新建 data 文件夹和.ini 文件</p>\n<figure class=\"highlight ini\"><figcaption data-lang=\"ini\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token section\"><span class=\"token punctuation\">[</span><span class=\"token section-name selector\">mysqld</span><span class=\"token punctuation\">]</span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token key attr-name\">datadir</span> <span class=\"token punctuation\">=</span><span class=\"token value attr-value\">...</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token key attr-name\">basedir</span> <span class=\"token punctuation\">=</span><span class=\"token value attr-value\">...</span></pre></td></tr></table></figure><p>安装 - 初始化 - 启动 (在 bin 文件夹中打开)</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>mysqld <span class=\"token parameter variable\">--install</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>mysqld <span class=\"token parameter variable\">--initialize</span> <span class=\"token parameter variable\">--user</span><span class=\"token operator\">=</span>mysql <span class=\"token parameter variable\">--console</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>net start mysql</pre></td></tr></table></figure><p>查询 <code>nleedge</code>  数据库中所有数据表和每个表的记录数的 <code>SQL</code>  语句</p>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">SELECT</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>\ttable_name <span class=\"token keyword\">AS</span> 表名<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>\ttable_rows <span class=\"token keyword\">AS</span> 记录条数 </pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">FROM</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>\tinformation_schema<span class=\"token punctuation\">.</span><span class=\"token keyword\">TABLES</span> </pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">WHERE</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>\ttable_schema <span class=\"token operator\">=</span> <span class=\"token string\">'nleedge'</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><hr />\n<h2 id=\"更改root账户密码\"><a class=\"anchor\" href=\"#更改root账户密码\">#</a> 更改 root 账户密码</h2>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">USER</span> <span class=\"token string\">'root'</span><span class=\"token variable\">@'localhost'</span> IDENTIFIED <span class=\"token keyword\">BY</span> <span class=\"token string\">'新密码'</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><h2 id=\"查看用户配置\"><a class=\"anchor\" href=\"#查看用户配置\">#</a> 查看用户配置</h2>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">use</span> mysql<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">select</span> <span class=\"token keyword\">User</span><span class=\"token punctuation\">,</span>Host <span class=\"token keyword\">from</span> <span class=\"token keyword\">user</span></pre></td></tr></table></figure><h2 id=\"为mysql配置远程访问功能\"><a class=\"anchor\" href=\"#为mysql配置远程访问功能\">#</a> 为 MySQL 配置远程访问功能</h2>\n<p>找到配置文件</p>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>sudo nano <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>mysql<span class=\"token operator\">/</span>mysql<span class=\"token punctuation\">.</span>conf<span class=\"token punctuation\">.</span>d<span class=\"token operator\">/</span>mysqld<span class=\"token punctuation\">.</span>cnf</pre></td></tr></table></figure><p>登录 数据库后授予权限</p>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">GRANT</span> <span class=\"token keyword\">ALL</span> <span class=\"token keyword\">PRIVILEGES</span> <span class=\"token keyword\">ON</span> <span class=\"token operator\">*</span><span class=\"token punctuation\">.</span><span class=\"token operator\">*</span> <span class=\"token keyword\">TO</span> <span class=\"token string\">'root'</span><span class=\"token variable\">@'%'</span> IDENTIFIED <span class=\"token keyword\">BY</span> <span class=\"token string\">'your_password'</span><span class=\"token punctuation\">;</span>  </pre></td></tr><tr><td data-num=\"2\"></td><td><pre>FLUSH <span class=\"token keyword\">PRIVILEGES</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><h2 id=\"显示所有可用字符集排序方式\"><a class=\"anchor\" href=\"#显示所有可用字符集排序方式\">#</a> 显示所有可用字符集排序方式</h2>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">show</span> <span class=\"token keyword\">charset</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><h2 id=\"显示当前数据库系统最大连接数\"><a class=\"anchor\" href=\"#显示当前数据库系统最大连接数\">#</a> 显示当前数据库系统最大连接数</h2>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">SHOW</span> VARIABLES <span class=\"token operator\">LIKE</span> <span class=\"token string\">'max_connections'</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><h2 id=\"显示当前数据库系统表级锁竞争状态\"><a class=\"anchor\" href=\"#显示当前数据库系统表级锁竞争状态\">#</a> 显示当前数据库系统表级锁竞争状态</h2>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">show</span> <span class=\"token keyword\">status</span> <span class=\"token operator\">like</span> <span class=\"token string\">'%table_lock%'</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><hr />\n",
            "tags": [
                "比赛"
            ]
        },
        {
            "id": "https://fufan1025.github.io/2024/05/14/Android-%E5%BC%80%E5%8F%91/",
            "url": "https://fufan1025.github.io/2024/05/14/Android-%E5%BC%80%E5%8F%91/",
            "title": "Android 开发",
            "date_published": "2024-05-14T14:15:40.000Z",
            "content_html": "<p>参考书籍：基于 Android 的物联网应用开发 (北京新大陆时代教育科技有限公司)</p>\n<h1 id=\"简识\"><a class=\"anchor\" href=\"#简识\">#</a> 简识</h1>\n<h2 id=\"gradle\"><a class=\"anchor\" href=\"#gradle\">#</a> Gradle</h2>\n<blockquote>\n<p><strong>Gradle 是一个项目自动 化构建工具，帮我们做了依赖、打包、部署、发布、各种渠道的差异管理等</strong></p>\n</blockquote>\n<h2 id=\"androidmanifestxml-清单文件\"><a class=\"anchor\" href=\"#androidmanifestxml-清单文件\">#</a> AndroidManifest.xml - 清单文件</h2>\n<ul>\n<li><strong>这个文件中包含了 APP 的配置信息系统，需要根据里面的内容运行 APP 的代码，显示界面。</strong></li>\n</ul>\n<hr />\n<h1 id=\"布局\"><a class=\"anchor\" href=\"#布局\">#</a> 布局</h1>\n<h2 id=\"布局通用属性\"><a class=\"anchor\" href=\"#布局通用属性\">#</a> 布局通用属性</h2>\n<h3 id=\"常用属性\"><a class=\"anchor\" href=\"#常用属性\">#</a> 常用属性</h3>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>作用</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>gravity</td>\n<td>控制组件所包含的子元素的对齐方式</td>\n</tr>\n<tr>\n<td>layout_gravity</td>\n<td>控制组件在父容器的对齐方式</td>\n</tr>\n<tr>\n<td>layout_width</td>\n<td>布局宽度</td>\n</tr>\n<tr>\n<td>layout_height</td>\n<td>布局高度</td>\n</tr>\n<tr>\n<td><strong>wrap_content</strong></td>\n<td><strong>大小由包裹的内容大小自动伸缩</strong></td>\n</tr>\n<tr>\n<td><strong>match_parent</strong></td>\n<td><strong>(大小填充父容器)(竖向排列则竖向填充，横向则横向填充)</strong></td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"边距的使用\"><a class=\"anchor\" href=\"#边距的使用\">#</a> 边距的使用</h3>\n<ul>\n<li><strong>在 Android 的布局中，经常需要给控件和容器设置一些边距.</strong></li>\n<li>控件与控件之间的边距称为外边距 (margin)，控件与其内容的边距称为内边距 (padding)。</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th><strong>控件属性</strong></th>\n<th><strong>功能描述</strong></th>\n<th><strong>补充</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>android:layout_margin</strong></td>\n<td><strong>设置四个方向相同的外边距</strong></td>\n<td></td>\n</tr>\n<tr>\n<td><strong>android:layout_marginLeft</strong></td>\n<td><strong>设置左边的外边距</strong></td>\n<td></td>\n</tr>\n<tr>\n<td><strong>android:layout_marginTop</strong></td>\n<td><strong>设置上边的外边距</strong></td>\n<td></td>\n</tr>\n<tr>\n<td><strong>android:layout_marginRight</strong></td>\n<td><strong>设置右边的外边距</strong></td>\n<td></td>\n</tr>\n<tr>\n<td><strong>android:layout_marginBottom</strong></td>\n<td><strong>设置下边的外边距</strong></td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<p><strong>同理，可以使用属性 android:padding 设置 4 个方向相同的内边距 (padding)，也可以加上方向分别设置某个方向的内边距</strong></p>\n<h2 id=\"linearlayout线性布局\"><a class=\"anchor\" href=\"#linearlayout线性布局\">#</a> LinearLayOut (线性布局)</h2>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>方法</th>\n<th>作用</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>orientation</td>\n<td>vertical/horizontal</td>\n<td>(布局的排列方式) 垂直 / 水平</td>\n</tr>\n<tr>\n<td>weight</td>\n<td></td>\n<td>在容器中按比例划分</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"divider分割线\"><a class=\"anchor\" href=\"#divider分割线\">#</a> Divider 分割线</h3>\n<ul>\n<li>为线性布局设置分割线图片</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>属性 (showDividers)</th>\n<th>位置</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>none</td>\n<td>无</td>\n</tr>\n<tr>\n<td>beginning</td>\n<td>开始</td>\n</tr>\n<tr>\n<td>end</td>\n<td>结束</td>\n</tr>\n<tr>\n<td>middle</td>\n<td>每两个组件间</td>\n</tr>\n</tbody>\n</table>\n<p>使用方法</p>\n<figure class=\"highlight xml\"><figcaption data-lang=\"XML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>android:divider=\"@drawable/ktv_line_div\" <span class=\"token comment\">&lt;!-- 设置分割线图片 --></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>android:showDividers=\"middle\"  <span class=\"token comment\">&lt;!-- 设置分割线位置 --></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>android:dividerPadding=\"10dp\"  <span class=\"token comment\">&lt;!-- 设置分割线边距 --></span></pre></td></tr></table></figure><hr />\n<h2 id=\"relativelayout相对布局\"><a class=\"anchor\" href=\"#relativelayout相对布局\">#</a> RelativeLayout (相对布局)</h2>\n<blockquote>\n<p>相对布局是通过相对定位的方式指定控件的位置：以其他控件或父容器为参照物，摆放控件位置。</p>\n<p>在设计相对布局时要遵循控件之间的依赖关系，后放入控件的位置依赖于先放入的控件</p>\n</blockquote>\n<h3 id=\"设置控件相对于父容器的位置\"><a class=\"anchor\" href=\"#设置控件相对于父容器的位置\">#</a> 设置控件相对于父容器的位置</h3>\n<table>\n<thead>\n<tr>\n<th><strong>控件属性</strong></th>\n<th><strong>功能描述</strong></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>android:layout_centerHorizontal</strong></td>\n<td><strong>设置当前控件位于父容器的水平居中位置</strong></td>\n<td></td>\n</tr>\n<tr>\n<td><strong>android:layout_centerVertical</strong></td>\n<td><strong>设置当前控件位于父容器的垂直居中位置</strong></td>\n<td></td>\n</tr>\n<tr>\n<td><strong>android:layout_centerInParent</strong></td>\n<td><strong>设置当前控件位于父容器的中央位置</strong></td>\n<td></td>\n</tr>\n<tr>\n<td><strong>android:layout_alignParentTop</strong></td>\n<td><strong>设置当前控件与父容器顶部对齐</strong></td>\n<td></td>\n</tr>\n<tr>\n<td><strong>android:layout_alignParentLeft</strong></td>\n<td><strong>设置当前控件与父容器左对齐</strong></td>\n<td></td>\n</tr>\n<tr>\n<td><strong>android:layout_alignParentRight</strong></td>\n<td><strong>设置当前控件与父容器右对齐</strong></td>\n<td></td>\n</tr>\n<tr>\n<td><strong>android:layout_alignParentBottom</strong></td>\n<td><strong>设置当前控件与父容器底部对齐</strong></td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"设置控件相对于某个控件的位置\"><a class=\"anchor\" href=\"#设置控件相对于某个控件的位置\">#</a> 设置控件相对于某个控件的位置</h3>\n<table>\n<thead>\n<tr>\n<th><strong>控件属性</strong></th>\n<th><strong>功能描述</strong></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>android:Layout_above</strong></td>\n<td><strong>设置当前控件位于某个控件的上方</strong></td>\n<td></td>\n</tr>\n<tr>\n<td><strong>android:Layout_below</strong></td>\n<td><strong>设置当前控件位于某个控件的下方</strong></td>\n<td></td>\n</tr>\n<tr>\n<td><strong>android:Layout_toLeftof</strong></td>\n<td><strong>设置当前控件位于某个控件的左侧</strong></td>\n<td></td>\n</tr>\n<tr>\n<td><strong>android:Layout_toRightof</strong></td>\n<td><strong>设置当前控件位于某个控件的右侧</strong></td>\n<td></td>\n</tr>\n<tr>\n<td><strong>android:Layout_alignTop</strong></td>\n<td><strong>设置当前控件与某个控件的顶部对齐</strong></td>\n<td></td>\n</tr>\n<tr>\n<td><strong>android:Layout_alignBottom</strong></td>\n<td><strong>设置当前控件与某个控件的底部对齐</strong></td>\n<td></td>\n</tr>\n<tr>\n<td><strong>android:Layout_alignLeft</strong></td>\n<td><strong>设置当前控件与某个控件左对齐</strong></td>\n<td></td>\n</tr>\n<tr>\n<td><strong>android:Layout_alignRight</strong></td>\n<td><strong>设置当前控件与某个控件右对齐</strong></td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<hr />\n<h2 id=\"constraintlayout约束布局\"><a class=\"anchor\" href=\"#constraintlayout约束布局\">#</a> ConstraintLayout (约束布局)</h2>\n<blockquote>\n<p><strong>ConstraintLayout 是 Google 在 2016 年的 Google I/O 大会上提出的一个可以灵活控制子控件位置和大小的新布局。它已是目前 Android Studio 中项目的默认布局</strong></p>\n</blockquote>\n<hr />\n<h3 id=\"relative-positioning相对定位\"><a class=\"anchor\" href=\"#relative-positioning相对定位\">#</a> Relative positioning (相对定位)</h3>\n<table>\n<thead>\n<tr>\n<th><strong>控件属性</strong></th>\n<th><strong>功能描述</strong></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>app:layout_constraint Left_toLeftOf</strong></td>\n<td><strong>控件与某控件或父容器的左侧对齐</strong></td>\n<td><strong>设置居中</strong></td>\n</tr>\n<tr>\n<td><strong>app:layout_constraint Left_toRightOf</strong></td>\n<td><strong>控件在某控件的右侧</strong></td>\n<td></td>\n</tr>\n<tr>\n<td><strong>app:layout_constraint Right_toLeftOf</strong></td>\n<td><strong>控件在某控件的左侧</strong></td>\n<td></td>\n</tr>\n<tr>\n<td><strong>app:layout_constraint Right_toRightOf</strong></td>\n<td><strong>控件与某控件或父容器的右侧对齐</strong></td>\n<td><strong>设置居中</strong></td>\n</tr>\n<tr>\n<td><strong>app:layout_constraint Top_toTopOf</strong></td>\n<td><strong>控件与某控件或父容器的顶部对齐</strong></td>\n<td><strong>设置居中</strong></td>\n</tr>\n<tr>\n<td><strong>app:layout_constraint Top_toBottomOf</strong></td>\n<td><strong>控件在某控件的下方</strong></td>\n<td></td>\n</tr>\n<tr>\n<td><strong>app:layout_constraint Bottom_toTopOf</strong></td>\n<td><strong>控件在某控件的上方</strong></td>\n<td></td>\n</tr>\n<tr>\n<td><strong>app:layout_constraint Bottom_toBottomOf</strong></td>\n<td><strong>控件与某控件或父容器的底部对齐</strong></td>\n<td><strong>设置居中</strong></td>\n</tr>\n<tr>\n<td><strong>app:layout_constraint Baseline_toBaselineOf</strong></td>\n<td><strong>控件与某控件文本基线对齐</strong></td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"circular-positioning圆形定位\"><a class=\"anchor\" href=\"#circular-positioning圆形定位\">#</a> Circular positioning (圆形定位)</h3>\n<blockquote>\n<p><strong>圆形定位指的是可以用 一个角度 和 一个半径 来约束两个控件的中心</strong></p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th><strong>控件属性</strong></th>\n<th><strong>功能描述</strong></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>app:Layout_constraintCircle</strong></td>\n<td><strong>设置约束的圆心位置</strong></td>\n<td></td>\n</tr>\n<tr>\n<td><strong>app:Layout_constraintCircleAngle</strong></td>\n<td><strong>设置约束角度</strong></td>\n<td></td>\n</tr>\n<tr>\n<td><strong>app:Layout_constraintCircleRadius</strong></td>\n<td><strong>设置约束半径</strong></td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"chains链式约束\"><a class=\"anchor\" href=\"#chains链式约束\">#</a> Chains (链式约束)</h3>\n<blockquote>\n<p><strong>链式约束，即一组控件通过一个双向的约束关系链接起来。链式约束能够对一组在水平或竖直方向互相关联控件的属性进行统一管理</strong></p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th><strong>属性</strong></th>\n<th><strong>作用</strong></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>chain_spread</strong></td>\n<td><strong>展开元素</strong></td>\n<td></td>\n</tr>\n<tr>\n<td><strong>chain_spread_inisde</strong></td>\n<td><strong>展开，但是链的两端贴近 parent</strong></td>\n<td></td>\n</tr>\n<tr>\n<td><strong>chain_packed</strong></td>\n<td><strong>链的元素将被打包在一起</strong></td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"centering-positioning-and-bias居中以及设置偏差\"><a class=\"anchor\" href=\"#centering-positioning-and-bias居中以及设置偏差\">#</a> Centering positioning and bias (居中以及设置偏差)</h3>\n<blockquote>\n<p><strong>在约束布局中，把控件放在布局中央，需要设置四个方向的约束</strong></p>\n</blockquote>\n<blockquote>\n<p><strong>同理，如果要单独设置某个方向的居中，只需要将对应两边对齐即可</strong></p>\n</blockquote>\n<h3 id=\"约束布局中的偏移属性\"><a class=\"anchor\" href=\"#约束布局中的偏移属性\">#</a> 约束布局中的偏移属性</h3>\n<table>\n<thead>\n<tr>\n<th><strong>控件属性</strong></th>\n<th><strong>功能描述</strong></th>\n<th><strong>取值范围 (左～右)</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>app:layout_constraintHorizontal_bias</strong></td>\n<td><strong>水平偏移</strong></td>\n<td><strong>0~1</strong></td>\n</tr>\n<tr>\n<td><strong>app:layout_constraintVertical_bias</strong></td>\n<td><strong>垂直偏移</strong></td>\n<td><strong>0~1</strong></td>\n</tr>\n</tbody>\n</table>\n<hr />\n<h1 id=\"控件\"><a class=\"anchor\" href=\"#控件\">#</a> 控件</h1>\n<h2 id=\"通用控件方法\"><a class=\"anchor\" href=\"#通用控件方法\">#</a> 通用控件方法</h2>\n<table>\n<thead>\n<tr>\n<th><strong>控件属性</strong></th>\n<th><strong>功能描述</strong></th>\n<th><strong>单位</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>android:text</strong></td>\n<td><strong>设置显示文本</strong></td>\n<td></td>\n</tr>\n<tr>\n<td><strong>android:textColor</strong></td>\n<td><strong>设置文本的颜色</strong></td>\n<td></td>\n</tr>\n<tr>\n<td><strong>android:textSize</strong></td>\n<td><strong>设置文字大小</strong></td>\n<td><strong>推荐 sp</strong></td>\n</tr>\n<tr>\n<td><strong>android:textStyle</strong></td>\n<td><strong>设置文字样式，如 bold (粗体)、italic (斜体)、bolditalic (粗斜体）</strong></td>\n<td></td>\n</tr>\n<tr>\n<td><strong>android:height</strong></td>\n<td><strong>设置文本区域的高度</strong></td>\n<td></td>\n</tr>\n<tr>\n<td><strong>android:width</strong></td>\n<td><strong>设置文本区域的宽度</strong></td>\n<td></td>\n</tr>\n<tr>\n<td><strong>android:Visibility</strong></td>\n<td><strong>设置控件的显示模式</strong></td>\n<td>visible/gone/invisible</td>\n</tr>\n</tbody>\n</table>\n<hr />\n<h2 id=\"textview文本框\"><a class=\"anchor\" href=\"#textview文本框\">#</a> TextView (文本框)</h2>\n<blockquote>\n<p><strong>主要作用于在界面上显示一段文本信息</strong></p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th><strong>控件属性</strong></th>\n<th><strong>功能描述</strong></th>\n<th><strong>单位</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>android:maxlength</strong></td>\n<td><strong>设置文本长度，超出不显示</strong></td>\n<td></td>\n</tr>\n<tr>\n<td><strong>android:shadowColor</strong></td>\n<td>设置阴影颜色，需要与 shadowRadius 一起使用</td>\n<td></td>\n</tr>\n<tr>\n<td><strong>android:shadowRadius</strong></td>\n<td>设置阴影的模糊程度</td>\n<td></td>\n</tr>\n<tr>\n<td><strong>android:shadowDx</strong></td>\n<td>设置阴影在水平方向的偏移</td>\n<td></td>\n</tr>\n<tr>\n<td><strong>android:shadowDy</strong></td>\n<td>设置阴影在竖直方向的偏移</td>\n<td></td>\n</tr>\n<tr>\n<td><strong>drawblexxx</strong></td>\n<td>设置图片在文字的方向</td>\n<td>top/buttom/left/right</td>\n</tr>\n<tr>\n<td><strong>autoLink</strong></td>\n<td>识别链接类型</td>\n<td></td>\n</tr>\n<tr>\n<td><strong>singleLine</strong></td>\n<td>自动换行</td>\n<td>默认 false</td>\n</tr>\n</tbody>\n</table>\n<p>drawblexxx 设置图片大小</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>text<span class=\"token punctuation\">.</span><span class=\"token function\">setBounds</span><span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">200</span><span class=\"token punctuation\">,</span><span class=\"token number\">200</span><span class=\"token punctuation\">)</span><span class=\"token comment\">// 设置坐标点，从离文字最左边开始 100dp 处到 200dp 处 宽是：从文字上方 0dp 处往上延伸 200dp!</span></pre></td></tr></table></figure><p>设置字符</p>\n<p>可以使用 id.setText 往控件中输入字符</p>\n<hr />\n<h2 id=\"edittext输入框\"><a class=\"anchor\" href=\"#edittext输入框\">#</a> EditText (输入框)</h2>\n<ul>\n<li><strong>允许用户在控件里输入和编辑内容</strong></li>\n<li><strong>EditText 继承自 TextView , 所有 EditText 可以使用 TextView 的属性</strong></li>\n</ul>\n<p><strong>特有属性</strong></p>\n<table>\n<thead>\n<tr>\n<th><strong>控件属性</strong></th>\n<th><strong>功能描述</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>android:hint</strong></td>\n<td><strong>设置 EditText 没有输入内容时显示的提示文本</strong></td>\n</tr>\n<tr>\n<td><strong>android:inputType</strong></td>\n<td><strong>设置输入文本的类型，如 textPassword 表示输入的文本为密码类型（文本将以 “.” 显示)，phone 表示电话号码类型，date 表示日期类型等</strong></td>\n</tr>\n<tr>\n<td>singleline</td>\n<td>单行输入不换行</td>\n</tr>\n<tr>\n<td>minlines</td>\n<td>设置最小行的行数</td>\n</tr>\n<tr>\n<td>maxlines</td>\n<td>设置最大行行数</td>\n</tr>\n</tbody>\n</table>\n<blockquote>\n<p>Tips: 禁止软键盘弹出</p>\n</blockquote>\n<p>原理：设置 EditText 失去焦点，从而阻止软键盘的弹出</p>\n<blockquote>\n<p>XML 法 (要放在其上一层布局)</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>android<span class=\"token operator\">:</span>focusable<span class=\"token operator\">=</span><span class=\"token string\">\"false\"</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>android<span class=\"token operator\">:</span>focusableInTouchMode<span class=\"token operator\">=</span><span class=\"token string\">\"false\"</span></pre></td></tr></table></figure><blockquote>\n<p>提取文字</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token class-name\">String</span> name <span class=\"token operator\">=</span>  ed_name<span class=\"token punctuation\">.</span><span class=\"token function\">getText</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">trim</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><blockquote>\n<p>检测是否为空</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token class-name\">TextUtils</span><span class=\"token punctuation\">.</span><span class=\"token function\">isEmpty</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><blockquote>\n<p>密码可见度</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// 密码不可见</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">setTransformationMethod</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HideReturnsTransformationMethod</span><span class=\"token punctuation\">.</span><span class=\"token function\">getInstance</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">// 密码可见</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token function\">setTransformationMethod</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">PasswordTransformationMethod</span><span class=\"token punctuation\">.</span><span class=\"token function\">getInstance</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><hr />\n<h2 id=\"button按钮\"><a class=\"anchor\" href=\"#button按钮\">#</a> Button (按钮)</h2>\n<blockquote>\n<p><strong>是程序与用户交互的一个控件</strong></p>\n</blockquote>\n<blockquote>\n<p><strong>三种注册点击的监听器常用方式</strong></p>\n</blockquote>\n<ol>\n<li><strong>使用 android:onClick</strong></li>\n<li><strong>使用匿名内部类的方式</strong></li>\n<li><strong>在当前 Activity 中实现 onClickListener 接口</strong></li>\n</ol>\n<blockquote>\n<p><strong>使用 android:onClick</strong></p>\n</blockquote>\n<p>创建一个方法，放入 View view 参数，即可在 xml 文件中调用</p>\n<h2 id=\"togglebutton开关按钮\"><a class=\"anchor\" href=\"#togglebutton开关按钮\">#</a> ToggleButton (开关按钮)</h2>\n<ul>\n<li>独立切换按钮</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>作用</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>android:disabledAlpha</strong></td>\n<td>设置按钮在禁用时的透明度</td>\n</tr>\n<tr>\n<td><strong>android:textOff</strong></td>\n<td>按钮没有被选中时显示的文字</td>\n</tr>\n<tr>\n<td><strong>android:textOn</strong></td>\n<td>按钮被选中时显示的文字</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"switch开关\"><a class=\"anchor\" href=\"#switch开关\">#</a> Switch (开关)</h2>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>作用</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>showText</strong></td>\n<td>设置 on/off 的时候是否显示文字，boolean</td>\n</tr>\n<tr>\n<td><strong>splitTrack</strong></td>\n<td>是否设置一个间隙，让滑块与底部图片分隔，boolean</td>\n</tr>\n<tr>\n<td><strong>switchMinWidth</strong></td>\n<td>设置开关的最小宽度</td>\n</tr>\n<tr>\n<td><strong>switchPadding</strong></td>\n<td>设置滑块内文字的间隔</td>\n</tr>\n<tr>\n<td><strong>track</strong></td>\n<td>底部的图片</td>\n</tr>\n<tr>\n<td><strong>thumb</strong></td>\n<td>滑块的图片</td>\n</tr>\n</tbody>\n</table>\n<hr />\n<h2 id=\"radiobutton-单选按钮\"><a class=\"anchor\" href=\"#radiobutton-单选按钮\">#</a> RadioButton (单选按钮)</h2>\n<blockquote>\n<ul>\n<li><strong>RadioButton (单选按钮) 需要与 RadioGroup (单选组合框）配合使用，才能实现多个单选按钮间的互斥效果。</strong></li>\n<li><strong>单选按钮控件需要设置 id 属性，否则有可能不会出现互斥效果</strong></li>\n</ul>\n</blockquote>\n<p><strong>如何使用</strong>？</p>\n<ol>\n<li>在 xml 中使用 RadioGroup, 在其中加入 RadioButton 来显示；</li>\n<li>使用 setOnCheckedChangeListener 方法获取单选框改变时的值</li>\n</ol>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">setOnCheckedChangeListener</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">RadioGroup<span class=\"token punctuation\">.</span>OnCheckedChangeListener</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>            <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>            <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">onCheckedChanged</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">RadioGroup</span> group<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> checkedId<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>                id<span class=\"token punctuation\">.</span><span class=\"token function\">getText</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>在 xml 中可以用 checked 来设置默认状态是否会被选中</p>\n<hr />\n<h2 id=\"checkbox复选框\"><a class=\"anchor\" href=\"#checkbox复选框\">#</a> CheckBox (复选框)</h2>\n<ul>\n<li><strong>CheckBox (复选框）又称为多选按钮，它允许用户一次选择多个选项.</strong></li>\n</ul>\n<p><strong>使用</strong></p>\n<ul>\n<li>设置监听即可</li>\n</ul>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>checkBox1<span class=\"token punctuation\">.</span><span class=\"token function\">setOnCheckedChangeListener</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">CompoundButton<span class=\"token punctuation\">.</span>OnCheckedChangeListener</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>  </pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token annotation punctuation\">@Override</span>  </pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">onCheckedChanged</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">CompoundButton</span> buttonView<span class=\"token punctuation\">,</span> <span class=\"token keyword\">boolean</span> isChecked<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>  </pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        <span class=\"token comment\">// 处理选中事件  </span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span>  </pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><h2 id=\"imageview图片视图\"><a class=\"anchor\" href=\"#imageview图片视图\">#</a> ImageView (图片视图)</h2>\n<blockquote>\n<p>三种开头</p>\n</blockquote>\n<ol>\n<li><strong>FIT</strong> 开头</li>\n<li><strong>CENTER</strong> 开头</li>\n<li><strong>ScaleType.MATRIX 开头</strong></li>\n</ol>\n<table>\n<thead>\n<tr>\n<th><strong>控件属性</strong></th>\n<th><strong>功能描述</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>android:src</strong></td>\n<td><strong>把图片当内容显示 (以原图大小显示)</strong></td>\n</tr>\n<tr>\n<td><strong>android:background</strong></td>\n<td><strong>把图片当背景显示 (根据控件大小进行伸缩)</strong></td>\n</tr>\n</tbody>\n</table>\n<blockquote>\n<p><strong>当使用 SRC 属性来显示图片时，可以配合使用 android:scaleType 来设置显示的图片怎么缩放</strong></p>\n</blockquote>\n<p>使用 java 设置背景时需要使用</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">setbackgroundresoure</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">R</span><span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">.</span>图片<span class=\"token punctuation\">)</span></pre></td></tr></table></figure><hr />\n<p>FIT_开头</p>\n<blockquote>\n<p><strong>共同点：都会对图片进行缩放</strong></p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th><strong>控件属性</strong></th>\n<th><strong>功能描述</strong></th>\n<th><strong>补充</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>ScaleType.FIT_CENTER</strong></td>\n<td><strong>图片会被 **** 等比缩放</strong>到能够填充控件大小，并居中展示</td>\n<td><strong>默认模式</strong></td>\n</tr>\n<tr>\n<td><strong>ScaleType.FIT_START</strong></td>\n<td><strong>图片等比缩放到控件大小，并放置在控件的上边或左边展示</strong></td>\n<td></td>\n</tr>\n<tr>\n<td><strong>ScaleType.FIT_END</strong></td>\n<td><strong>图片等比缩放到控件大小，并放置在控件的下边或右边展示</strong></td>\n<td></td>\n</tr>\n<tr>\n<td><strong>ScaleType.FIT_XY</strong></td>\n<td><strong>图片缩放到控件大小，完全填充控件大小展示</strong></td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<p>CENTER_ 开头</p>\n<blockquote>\n<p><strong>共同点：居中显示，图片的中心点会与 Imageview 的中心点重叠</strong></p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th><strong>控件属性</strong></th>\n<th><strong>功能描述</strong></th>\n<th><strong>补充</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>ScaleType.CENTER</strong></td>\n<td><strong>不使用缩放，</strong> <code>ImageView</code>  会展示图片的中心部分</td>\n<td><strong>如果图片的大小小于控件的宽高，那么图片会被居中显示</strong></td>\n</tr>\n<tr>\n<td><strong>ScaleType.CENTER_CROP</strong></td>\n<td><strong>图片会被等比缩放直到完全填充整个</strong>  <code>ImageView</code> ，并居中显示</td>\n<td></td>\n</tr>\n<tr>\n<td><strong>ScaleType.CENTER_INSIDE</strong></td>\n<td><strong>图片将被等比缩放到能够完整展示在</strong>  <code>ImageView</code>  中并居中</td>\n<td><strong>如果图片大小小于控件大小，那么直接居中展示该图片</strong></td>\n</tr>\n</tbody>\n</table>\n<p>ScaleType.MATRIX 开头</p>\n<blockquote>\n<ul>\n<li><strong>在这八种</strong>  <code>ScaleType</code>  中，这个模式就是重点了。该模式需要与 ImageView.setImageMatrix (Matrix matrix) 配合使用，因为该模式需要用于指定一个变换矩阵用于指定图片如何展示.</li>\n<li><strong>前面的 7 种模式都是通过</strong>  <code>ImageView</code>  在内部生成了相应的变换矩阵，等于是提供了该模式的一种特定值</li>\n<li><strong>使用这个模式只要传入相应矩阵，也就能实现上述七种显示效果。</strong></li>\n</ul>\n</blockquote>\n<blockquote>\n<p><strong>使用方法</strong></p>\n</blockquote>\n<ol>\n<li><strong>在使用时，需要先调用</strong></li>\n</ol>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>imageView<span class=\"token punctuation\">.</span><span class=\"token function\">setScaleType</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ImageView<span class=\"token punctuation\">.</span>ScaleType</span><span class=\"token punctuation\">.</span><span class=\"token constant\">MATRIX</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><ol start=\"2\">\n<li><strong>再调用</strong></li>\n</ol>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>imageView<span class=\"token punctuation\">.</span><span class=\"token function\">setImageMatrix</span><span class=\"token punctuation\">(</span>matrix<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><ol start=\"3\">\n<li><strong>注意顺序不要搞错</strong>，否则会出现问题的</li>\n</ol>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>imageView<span class=\"token punctuation\">.</span><span class=\"token function\">setScaleType</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ImageView<span class=\"token punctuation\">.</span>ScaleType</span><span class=\"token punctuation\">.</span><span class=\"token constant\">MATRIX</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">// 设置为矩阵模式</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre> <span class=\"token class-name\">Matrix</span> matrix <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Matrix</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>           <span class=\"token comment\">// 创建一个单位矩阵</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre> matrix<span class=\"token punctuation\">.</span><span class=\"token function\">setTranslate</span><span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>          <span class=\"token comment\">// 平移 x 和 y 各 100 单位</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre> matrix<span class=\"token punctuation\">.</span><span class=\"token function\">preRotate</span><span class=\"token punctuation\">(</span><span class=\"token number\">30</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>                   <span class=\"token comment\">// 顺时针旋转 30 度</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre> imageView<span class=\"token punctuation\">.</span><span class=\"token function\">setImageMatrix</span><span class=\"token punctuation\">(</span>matrix<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>       <span class=\"token comment\">// 设置并应用矩阵</span></pre></td></tr></table></figure><blockquote>\n<p>设置图片转动</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token class-name\">ObjectAnimator</span> rotationAnimator <span class=\"token operator\">=</span> <span class=\"token class-name\">ObjectAnimator</span><span class=\"token punctuation\">.</span><span class=\"token function\">ofFloat</span><span class=\"token punctuation\">(</span>fanImage<span class=\"token punctuation\">,</span> <span class=\"token string\">\"rotation\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0f</span><span class=\"token punctuation\">,</span> <span class=\"token number\">360f</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// 设置旋转角度</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>        rotationAnimator<span class=\"token punctuation\">.</span><span class=\"token function\">setDuration</span><span class=\"token punctuation\">(</span><span class=\"token number\">500</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 设置动画时长为 2 秒</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>        rotationAnimator<span class=\"token punctuation\">.</span><span class=\"token function\">setInterpolator</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">LinearInterpolator</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 设置线性插值器</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        rotationAnimator<span class=\"token punctuation\">.</span><span class=\"token function\">setRepeatCount</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ValueAnimator</span><span class=\"token punctuation\">.</span><span class=\"token constant\">INFINITE</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 设置动画无限循环</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        rotationAnimator<span class=\"token punctuation\">.</span><span class=\"token function\">setRepeatMode</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ValueAnimator</span><span class=\"token punctuation\">.</span><span class=\"token constant\">RESTART</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 设置动画循环模式为立即重新开始</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        rotationAnimator<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 开始动画</span></pre></td></tr></table></figure><hr />\n<h2 id=\"progressbar进度条\"><a class=\"anchor\" href=\"#progressbar进度条\">#</a> ProgressBar (进度条)</h2>\n<ul>\n<li>\n<p><strong>进度条的两种种类</strong></p>\n<ol>\n<li><strong>圆环形进度条 (默认)</strong></li>\n<li><strong>水平显示进度</strong></li>\n</ol>\n</li>\n<li>\n<p>如果需要改变默认的样子则在里面加入  <code>style:@style/Widget.AppCompat.ProgressBar.Horizontal</code></p>\n</li>\n</ul>\n<figure class=\"highlight xml\"><figcaption data-lang=\"XML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>android:max：进度条的最大值</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>android:progress：进度条已完成进度值</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>android:progressDrawable：设置轨道对应的Drawable对象</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>android:indeterminate：如果设置成true，则进度条不精确显示进度</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>android:indeterminateDrawable：设置不显示进度的进度条的Drawable对象</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>android:indeterminateDuration：设置不精确显示进度的持续时间</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>android:secondaryProgress：二级进度条，类似于视频播放的一条是当前播放进度，一条是缓冲进度，前者通过progress属性进行设置！</pre></td></tr></table></figure><figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">getMax</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>：返回这个进度条的范围的上限</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">getProgress</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>：返回进度</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">getSecondaryProgress</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>：返回次要进度</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token function\">incrementProgressBy</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> diff<span class=\"token punctuation\">)</span>：指定增加的进度</pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token function\">isIndeterminate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>：指示进度条是否在不确定模式下</pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token function\">setIndeterminate</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">boolean</span> indeterminate<span class=\"token punctuation\">)</span>：设置不确定模式下</pre></td></tr></table></figure><hr />\n<h2 id=\"seekbar拖动条\"><a class=\"anchor\" href=\"#seekbar拖动条\">#</a> SeekBar (拖动条)</h2>\n<ul>\n<li>\n<p><strong>属性</strong></p>\n<ul>\n<li>\n<p><strong>SeekBar 是 ProgressBar 的子类，ProgressBar 主要用来显进度，但是不能和用户进行交互.</strong></p>\n</li>\n<li>\n<p><strong>而 SeekBar 可以供用户行拖动改变进度值。</strong></p>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>一般步骤</strong></p>\n<ol>\n<li>\n<p><strong>初始化控件</strong></p>\n</li>\n<li>\n<p><strong>注册拖动条监听器 setOnseekBarChangeListener () 方法为 SeekBar 注册进度值变化的监听器</strong></p>\n</li>\n</ol>\n</li>\n<li>\n<p>三个回调方法</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token class-name\">OnProgressChanged</span><span class=\"token punctuation\">(</span>拖动条<span class=\"token punctuation\">,</span>进度值<span class=\"token punctuation\">,</span>是否人为触发<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// 进度发生改变时会触发</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">onStartTrackingTouch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// 按住 SeekBar 时会触发</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">onStopTrackingTouch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// 放开 SeekBar 时触发</span></pre></td></tr></table></figure><table>\n<thead>\n<tr>\n<th>属性</th>\n<th>作用</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>max</strong></td>\n<td>滑动条最大值</td>\n</tr>\n<tr>\n<td><strong>progress</strong></td>\n<td>滑动条当前进度</td>\n</tr>\n<tr>\n<td><strong>secondaryProgress</strong></td>\n<td>二级滑动条进度</td>\n</tr>\n<tr>\n<td><strong>thumb</strong></td>\n<td>滑块图片</td>\n</tr>\n</tbody>\n</table>\n</li>\n</ul>\n<hr />\n<h2 id=\"toolbar标题栏\"><a class=\"anchor\" href=\"#toolbar标题栏\">#</a> Toolbar (标题栏)</h2>\n<blockquote>\n<p>作用</p>\n</blockquote>\n<p>代替原本的标题栏，扩展性更高</p>\n<blockquote>\n<p>步骤</p>\n</blockquote>\n<ol>\n<li>在 Android.xml 中将原来的标题栏关闭</li>\n</ol>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>android<span class=\"token operator\">:</span>theme<span class=\"token operator\">=</span><span class=\"token string\">\"@style/Theme.AppCompat.Light.NoActionBar\"</span></pre></td></tr></table></figure><ol start=\"2\">\n<li>在 XML 里加上 Toolbar</li>\n<li>在 java 中给 Toolbar 进行设置</li>\n</ol>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// 设置 menu</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>        toolbar<span class=\"token punctuation\">.</span><span class=\"token function\">inflateMenu</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">R</span><span class=\"token punctuation\">.</span>menu<span class=\"token punctuation\">.</span>menu<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>        <span class=\"token comment\">// 设置 logo</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        toolbar<span class=\"token punctuation\">.</span><span class=\"token function\">setLogo</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">R</span><span class=\"token punctuation\">.</span>drawable<span class=\"token punctuation\">.</span>logo<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        <span class=\"token comment\">// 监测 menu</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        toolbar<span class=\"token punctuation\">.</span><span class=\"token function\">setOnMenuItemClickListener</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Toolbar<span class=\"token punctuation\">.</span>OnMenuItemClickListener</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>            <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>            <span class=\"token keyword\">public</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">onMenuItemClick</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">MenuItem</span> menuItem<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>                <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token comment\">// 以下是实现标题栏返回键的步骤</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token function\">setSupportActionBar</span><span class=\"token punctuation\">(</span>toolbar<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// 设置为活动 //setSupportActionBar 是 AppCompatActivity 的方法</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token function\">getSupportActionBar</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">setDisplayHomeAsUpEnabled</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// 启用左上角返回键</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token function\">getSupportActionBar</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">setHomeButtonEnabled</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// 控制左上角图标的显示和点击事件</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token comment\">// 然后重写 onOptionsItemSelected 方法，处理返回键的点击事件</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token annotation punctuation\">@Override</span>  </pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">onOptionsItemSelected</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">MenuItem</span> item<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>  </pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">.</span><span class=\"token function\">getItemId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>  </pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token keyword\">case</span> <span class=\"token class-name\"><span class=\"token namespace\">android<span class=\"token punctuation\">.</span></span>R</span><span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">.</span>home<span class=\"token operator\">:</span>  </pre></td></tr><tr><td data-num=\"21\"></td><td><pre>            <span class=\"token comment\">// 处理返回键点击事件  </span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>            <span class=\"token function\">onBackPressed</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  </pre></td></tr><tr><td data-num=\"23\"></td><td><pre>            <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>  </pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        <span class=\"token keyword\">default</span><span class=\"token operator\">:</span>  </pre></td></tr><tr><td data-num=\"25\"></td><td><pre>            <span class=\"token keyword\">return</span> <span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token function\">onOptionsItemSelected</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  </pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span>  </pre></td></tr><tr><td data-num=\"27\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre><span class=\"token comment\">// 当用户点击返回键时，会调用 onBackPressed () 方法，该方法会模拟用户按下物理返回键的行为，返回到上一级页面。</span></pre></td></tr></table></figure><p><strong>如何创建 menu 文件:</strong></p>\n<p>​\tres 右键，选择 Android Resource File, 选择类型为 menu</p>\n<hr />\n<h2 id=\"对话框\"><a class=\"anchor\" href=\"#对话框\">#</a> 对话框</h2>\n<blockquote>\n<p><strong>此章节含有以下三种对话框</strong></p>\n</blockquote>\n<ol>\n<li><strong>提示信息对话框</strong></li>\n<li><strong>单选对话框</strong></li>\n<li><strong>多选对话框</strong></li>\n</ol>\n<blockquote>\n<p><strong>步骤</strong></p>\n</blockquote>\n<ol>\n<li><strong>修改 xml 文件的布局代码</strong></li>\n<li><strong>在 MainActivity 中分别对 4 个按钮注册点击监听器</strong></li>\n</ol>\n<hr />\n<h3 id=\"提示信息对话框\"><a class=\"anchor\" href=\"#提示信息对话框\">#</a> 提示信息对话框</h3>\n<blockquote>\n<p><strong>提示信息对话框主要是用来显示提示信息的，并通常具有 “确定” 和 “取消” 按钮，</strong></p>\n</blockquote>\n<ol>\n<li><strong>创建 AlertDialog 构造器 Builder 对象，AlertDialog 建议使用 android.support.v7.app 包下的</strong></li>\n</ol>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">private</span> <span class=\"token keyword\">void</span> <span class=\"token function\">showMsgDialog</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>         <span class=\"token class-name\">AlertDialog<span class=\"token punctuation\">.</span>Builder</span> builder <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">AlertDialog<span class=\"token punctuation\">.</span>Builder</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>     <span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><ol start=\"2\">\n<li><strong>设置对话框标题，提示信息，图标</strong></li>\n<li><strong>添加确定按钮 (第一个参数为按钮显示的信息，第二个参数为按钮的监听器，如无需作用，可以填 null)</strong></li>\n<li><strong>添加取消按钮</strong></li>\n<li><strong>创建并显示对话框</strong></li>\n</ol>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token class-name\">AlertDialog</span> alert <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> builder </pre></td></tr><tr><td data-num=\"2\"></td><td><pre>\t<span class=\"token punctuation\">.</span><span class=\"token function\">setTitle</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"提示信息对话框\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>\t<span class=\"token punctuation\">.</span><span class=\"token function\">setMessage</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"是否确定退出\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>\t<span class=\"token punctuation\">.</span><span class=\"token function\">setIcon</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">R</span><span class=\"token punctuation\">.</span>mipmap<span class=\"token punctuation\">.</span>ic_launcher<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token punctuation\">.</span><span class=\"token function\">setNegativeButton</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"取消\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">DialogInterface<span class=\"token punctuation\">.</span>OnClickListener</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>      <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>      <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">onClick</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">DialogInterface</span> dialog<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> which<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>       <span class=\"token class-name\">Toast</span><span class=\"token punctuation\">.</span><span class=\"token function\">makeText</span><span class=\"token punctuation\">(</span>mContext<span class=\"token punctuation\">,</span> <span class=\"token string\">\"你点击了取消按钮~\"</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Toast</span><span class=\"token punctuation\">.</span><span class=\"token constant\">LENGTH_SHORT</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">show</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>          <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>       <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">setPositiveButton</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"确定\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">DialogInterface<span class=\"token punctuation\">.</span>OnClickListener</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>          <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">onClick</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">DialogInterface</span> dialog<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> which<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>            <span class=\"token class-name\">Toast</span><span class=\"token punctuation\">.</span><span class=\"token function\">makeText</span><span class=\"token punctuation\">(</span>mContext<span class=\"token punctuation\">,</span> <span class=\"token string\">\"你点击了确定按钮~\"</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Toast</span><span class=\"token punctuation\">.</span><span class=\"token constant\">LENGTH_SHORT</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">show</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>             <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>          <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">setNeutralButton</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"中立\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">DialogInterface<span class=\"token punctuation\">.</span>OnClickListener</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>           <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>           <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">onClick</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">DialogInterface</span> dialog<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> which<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>                    <span class=\"token class-name\">Toast</span><span class=\"token punctuation\">.</span><span class=\"token function\">makeText</span><span class=\"token punctuation\">(</span>mContext<span class=\"token punctuation\">,</span> <span class=\"token string\">\"你点击了中立按钮~\"</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Toast</span><span class=\"token punctuation\">.</span><span class=\"token constant\">LENGTH_SHORT</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">show</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>                 <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>     <span class=\"token comment\">// 创建 AlertDialog 对象</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>     \talert<span class=\"token punctuation\">.</span><span class=\"token function\">show</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>        <span class=\"token comment\">// 显示对话框</span></pre></td></tr></table></figure><hr />\n<h3 id=\"单选对话框\"><a class=\"anchor\" href=\"#单选对话框\">#</a> 单选对话框</h3>\n<blockquote>\n<p><strong>属性</strong></p>\n</blockquote>\n<ul>\n<li><strong>一般用于从选项中选择一项</strong></li>\n<li><strong>是使用 AlertDialog 的 构造器 Builder 对象调用 setSingleChoiceItems () 方法 设置的</strong></li>\n</ul>\n<ol>\n<li>基本使用流程</li>\n</ol>\n<ul>\n<li>创建 Builder 对象</li>\n<li>设置对话框标题</li>\n<li>设置对话框图标</li>\n<li>设置单选选项</li>\n</ul>\n<blockquote>\n<p><strong>setSingleChoiceItems () 方法的三个参数</strong></p>\n</blockquote>\n<ol>\n<li><strong>选项数组，用于显示选项内容</strong></li>\n<li><strong>设置默认选中的选项，0 表示选中第一个选项</strong></li>\n<li><strong>选项点击的监听器。运行程序，并点击单选对话框按钮</strong></li>\n</ol>\n<hr />\n<h3 id=\"多选对话框\"><a class=\"anchor\" href=\"#多选对话框\">#</a> 多选对话框</h3>\n<blockquote>\n<p><strong>属性</strong></p>\n</blockquote>\n<ul>\n<li><strong>用作从选项中选择多项</strong></li>\n<li><strong>它是通过 AlertDialog 的 构造器 Builder 对象调用 setMultiChoiceItems () 方法 设置的</strong></li>\n</ul>\n<blockquote>\n<p><strong>一般步骤 (详情见书 P65 页)</strong></p>\n</blockquote>\n<ol>\n<li><strong>设置对话框标题</strong></li>\n<li><strong>设置对话框图标</strong></li>\n<li><strong>设置多选选项</strong></li>\n<li><strong>添加确定按钮</strong></li>\n<li><strong>创建并显示对话框</strong></li>\n</ol>\n<blockquote>\n<p><strong>setMultiChoiceItems () 方法的三个参数</strong></p>\n</blockquote>\n<ol>\n<li><strong>选项数组，用于显示选项内容；</strong></li>\n<li><strong>boolean 数组，用于设置默认选中的选项，new boolean<span false,true,true,false=\"\"></span>, 表示默认选中第二个与第三个选项，如果没有默认选中的选项，则参数可填 null</strong></li>\n<li><strong>选项点击监听器</strong></li>\n</ol>\n<hr />\n<h3 id=\"自定义对话框\"><a class=\"anchor\" href=\"#自定义对话框\">#</a> 自定义对话框</h3>\n<blockquote>\n<p><strong>为什么存在</strong></p>\n</blockquote>\n<ul>\n<li><strong>为了提高用户体验，当系统提供的的对话框不能满足需求时，可以根据项目需求自定义对话框</strong></li>\n</ul>\n<blockquote>\n<p><strong>步骤 (详情见书 p66)</strong></p>\n</blockquote>\n<ol>\n<li><strong>创建一个自定义对话框的布局</strong></li>\n<li><strong>在 Java 目录的包名下创建一个 MyDialog 类继承 android:app.Dialog (主要用于初始化自定义对话框中的控件以及注册按钮的监听器)</strong></li>\n<li><strong>在 MainActicity 中对 showCustomDialog () 方法进行实现，显示一个自定义对话框</strong></li>\n</ol>\n<h3 id=\"progressdialog进度条对话框\"><a class=\"anchor\" href=\"#progressdialog进度条对话框\">#</a> progressDialog (进度条对话框)</h3>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// 普通的圆形进度条对话框</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token class-name\">ProgressDialog</span><span class=\"token punctuation\">.</span><span class=\"token function\">show</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">MainActivity</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"资源加载中\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"资源加载中,请稍后...\"</span><span class=\"token punctuation\">,</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">// 参数依次为，上下文，标题，内容，是否显示进度，是否可以用取消按钮关闭</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\">// 定义非动态的条形进度条对话框</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token class-name\">ProgressDialog</span> pd1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ProgressDialog</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Context</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\">// 依次设置标题，内容，是否用取消按钮关闭，是否显示进度</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>pd1<span class=\"token punctuation\">.</span><span class=\"token function\">setTitle</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"软件更新中\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>pd1<span class=\"token punctuation\">.</span><span class=\"token function\">setMessage</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"软件正在更新中,请稍后...\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>pd1<span class=\"token punctuation\">.</span><span class=\"token function\">setCancelable</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token comment\">// 这里是设置进度条的风格，HORIZONTAL 是水平进度条，SPINNER 是圆形进度条</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>pd1<span class=\"token punctuation\">.</span><span class=\"token function\">setProgressStyle</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ProgressDialog</span><span class=\"token punctuation\">.</span><span class=\"token constant\">STYLE_HORIZONTAL</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>pd1<span class=\"token punctuation\">.</span><span class=\"token function\">setIndeterminate</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token comment\">// 调用 show () 方法将 ProgressDialog 显示出来</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>pd1<span class=\"token punctuation\">.</span><span class=\"token function\">show</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token comment\">// 定义动态的条形进度条对话框</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token comment\">// 初始化属性</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>progressStart <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>add <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token comment\">// 依次设置一些属性</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token class-name\">ProgressDialog</span> pd2 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ProgressDialog</span><span class=\"token punctuation\">(</span>context<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>pd2<span class=\"token punctuation\">.</span><span class=\"token function\">setMax</span><span class=\"token punctuation\">(</span><span class=\"token constant\">MAXVALUE</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>pd2<span class=\"token punctuation\">.</span><span class=\"token function\">setTitle</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"文件读取中\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>pd2<span class=\"token punctuation\">.</span><span class=\"token function\">setMessage</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"文件加载中,请稍后...\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre><span class=\"token comment\">// 这里设置为不可以通过按取消按钮关闭进度条</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>pd2<span class=\"token punctuation\">.</span><span class=\"token function\">setCancelable</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>pd2<span class=\"token punctuation\">.</span><span class=\"token function\">setProgressStyle</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ProgressDialog</span><span class=\"token punctuation\">.</span><span class=\"token constant\">STYLE_HORIZONTAL</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre><span class=\"token comment\">// 这里设置的是是否显示进度，设为 false 才是显示的哦！</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>pd2<span class=\"token punctuation\">.</span><span class=\"token function\">setIndeterminate</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>pd2<span class=\"token punctuation\">.</span><span class=\"token function\">show</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre><span class=\"token comment\">// 这里的话新建一个线程，重写 run () 方法，</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre><span class=\"token keyword\">new</span> <span class=\"token class-name\">Thread</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>    <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>        <span class=\"token keyword\">while</span><span class=\"token punctuation\">(</span>progressStart <span class=\"token operator\">&lt;</span> <span class=\"token constant\">MAXVALUE</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>        <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>            <span class=\"token comment\">// 这里的算法是决定进度条变化的，可以按需要写</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>            progressStart <span class=\"token operator\">=</span> <span class=\"token number\">2</span> <span class=\"token operator\">*</span> <span class=\"token function\">usetime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>            <span class=\"token comment\">// 把信息码发送给 handle 让更新界面</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>            hand<span class=\"token punctuation\">.</span><span class=\"token function\">sendEmptyMessage</span><span class=\"token punctuation\">(</span><span class=\"token number\">123</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><hr />\n<h2 id=\"drawerlayout官方侧滑菜单\"><a class=\"anchor\" href=\"#drawerlayout官方侧滑菜单\">#</a> DrawerLayout (官方侧滑菜单)</h2>\n<ul>\n<li>最外层必须是 DrawerLayout</li>\n<li>必须指定侧滑试图的 android:layout_gravity 属性 (Start 从左向右滑出，end 从右向左滑出)</li>\n<li>设置监听方法: DrawerLayout.setDrawerListener (new DrawerLayout.DrawerListener);</li>\n</ul>\n<p>xml 示例</p>\n<figure class=\"highlight xml\"><figcaption data-lang=\"XML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>android.support.v4.widget.DrawerLayout</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>        <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>@+id/drawer_layout<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>        <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>layout_width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>match_parent<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>layout_height</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>match_parent<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token comment\">&lt;!-- 内容区 --></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>LinearLayout</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>            <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>layout_width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>match_parent<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>            <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>layout_height</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>wrap_content<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>            <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>gravity</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>center<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>            <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>orientation</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>vertical<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>TextView</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>                <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>layout_width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>wrap_content<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>                <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>layout_height</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>wrap_content<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>                <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>padding</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>20dp<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>                <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>text</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>内容区<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>                <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>textSize</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>20sp<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Button</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>                <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>@+id/btn_open_left<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>                <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>layout_width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>wrap_content<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>                <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>layout_height</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>wrap_content<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>                <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>text</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>打开左边<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Button</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>                <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>@+id/btn_open_right<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>                <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>layout_width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>wrap_content<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>                <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>layout_height</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>wrap_content<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>                <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>text</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>打开右边<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>LinearLayout</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>        <span class=\"token comment\">&lt;!-- 左边菜单 --></span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>android.support.design.widget.NavigationView</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>            <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>@+id/navigation_view<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>            <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>layout_width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>260dp<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>            <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>layout_height</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>match_parent<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>            <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>layout_gravity</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>start<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>            <span class=\"token attr-name\"><span class=\"token namespace\">app:</span>headerLayout</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>@layout/drawer_header<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>            <span class=\"token attr-name\"><span class=\"token namespace\">app:</span>menu</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>@menu/menu_drawer_left<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>        <span class=\"token comment\">&lt;!-- 右边菜单 --></span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>LinearLayout</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>            <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>layout_width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>match_parent<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>            <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>layout_height</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>match_parent<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>            <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>layout_gravity</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>end<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>            <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>background</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>@color/black<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>            <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>gravity</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>center<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>            <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>orientation</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>vertical<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>TextView</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>                <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>layout_width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>wrap_content<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>                <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>layout_height</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>wrap_content<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre>                <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>padding</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>20dp<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>                <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>text</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>右边菜单<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>                <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>textColor</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>@color/white<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre>                <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>textSize</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>20sp<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre>                <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>textStyle</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>bold<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"60\"></td><td><pre></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Button</span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre>                <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>@+id/btn_close_right<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre>                <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>layout_width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>wrap_content<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre>                <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>layout_height</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>wrap_content<span class=\"token punctuation\">\"</span></span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre>                <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>text</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>关闭<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"66\"></td><td><pre></pre></td></tr><tr><td data-num=\"67\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>LinearLayout</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"68\"></td><td><pre></pre></td></tr><tr><td data-num=\"69\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>android.support.v4.widget.DrawerLayout</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><p><strong>关联 Toolbar</strong></p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">//mDrawerLayout 与 mToolbar 关联起来</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token class-name\">ActionBarDrawerToggle</span> actionBarDrawerToggle <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ActionBarDrawerToggle</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> mDrawerLayout<span class=\"token punctuation\">,</span> mToolbar<span class=\"token punctuation\">,</span> <span class=\"token class-name\">R</span><span class=\"token punctuation\">.</span>string<span class=\"token punctuation\">.</span><span class=\"token keyword\">open</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">R</span><span class=\"token punctuation\">.</span>string<span class=\"token punctuation\">.</span>close<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">// 初始化状态</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>actionBarDrawerToggle<span class=\"token punctuation\">.</span><span class=\"token function\">syncState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><hr />\n<h2 id=\"吐司弹窗\"><a class=\"anchor\" href=\"#吐司弹窗\">#</a> 吐司弹窗</h2>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token class-name\">Toast</span><span class=\"token punctuation\">.</span><span class=\"token function\">makeText</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"按钮一被点击了\"</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Toast</span><span class=\"token punctuation\">.</span><span class=\"token constant\">LENGTH_LONG</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">show</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><hr />\n<h1 id=\"四大组件\"><a class=\"anchor\" href=\"#四大组件\">#</a> 四大组件</h1>\n<h2 id=\"activity\"><a class=\"anchor\" href=\"#activity\">#</a> Activity</h2>\n<h3 id=\"activity的生命周期\"><a class=\"anchor\" href=\"#activity的生命周期\">#</a> Activity 的生命周期</h3>\n<p><img loading=\"lazy\" data-src=\"https://gitee.com/fufan1025/note_img/raw/master/android/Life_cycle.png\" alt=\"\" /></p>\n<h4 id=\"oncreate\"><a class=\"anchor\" href=\"#oncreate\">#</a> Oncreate()</h4>\n<p>它会在系统首次创建 Activity 时触发。Activity 会在创建后进入 “已创建” 状态，Activity 进入 “已开始” 状态，系统会相继调用  <code>onStart()</code>  和  <code>onResume()</code>  方法。</p>\n<h4 id=\"onstart\"><a class=\"anchor\" href=\"#onstart\">#</a> OnStart()</h4>\n<ol>\n<li>\n<p>当 Activity 进入 “已开始” 状态时，系统会调用此回调</p>\n</li>\n<li>\n<p><code>onStart()</code>  调用使 Activity 对用户可见，应用会为 Activity 进入前台并支持互动做准备</p>\n</li>\n<li>\n<p>此方法会非常快速完成，此回调结束后，进入 已恢复 状态，系统调用 onResume () 方法</p>\n</li>\n</ol>\n<h4 id=\"onresume\"><a class=\"anchor\" href=\"#onresume\">#</a> Onresume()</h4>\n<ol>\n<li>\n<p>这是一种应用与用户交互的状态，会保持到这种状态直到，该 Activity 不是此焦点 (eg : 接到来电、用户导航到另一个 Activity，或设备屏幕关闭。)</p>\n</li>\n<li>\n<p>当 Activity 进入已恢复状态时，与 Activity 生命周期相关联的所有生命周期感知型组件都将收到 <a href=\"https://developer.android.google.cn/reference/androidx/lifecycle/Lifecycle.Event?hl=zh-cn#ON_RESUME\"> <code>ON_RESUME</code> </a> 事件。这时，生命周期组件可以启用在组件可见且位于前台时需要运行的任何功能</p>\n</li>\n<li>\n<p>当发生中断事件时，Activity 进入 “已暂停” 状态，系统调用  <code>onPause()</code>  回调。</p>\n</li>\n<li>\n<p>如果 Activity 从 “已暂停” 状态返回 “已恢复” 状态，系统将再次调用  <code>onResume()</code>  方法.</p>\n</li>\n</ol>\n<h4 id=\"onpause\"><a class=\"anchor\" href=\"#onpause\">#</a> OnPause()</h4>\n<p>此方法表示 Activity 不再位于前台（尽管在用户处于多窗口模式时 Activity 仍然可见)</p>\n<h4 id=\"onstop\"><a class=\"anchor\" href=\"#onstop\">#</a> OnStop()</h4>\n<ol>\n<li>\n<p>如果您的 Activity 不再对用户可见，说明其已进入 “已停止” 状态，因此系统将调用  <code>onStop()</code>  回调。例如，当新启动的 Activity 覆盖整个屏幕时，可能会发生这种情况。</p>\n</li>\n<li>\n<p>当 Activity 进入已停止状态时，生命周期组件可以停止在组件未显示在屏幕上时无需运行的任何资源.</p>\n</li>\n</ol>\n<h4 id=\"ondestroy\"><a class=\"anchor\" href=\"#ondestroy\">#</a> OnDestroy()</h4>\n<p>销毁 Activity 之前，系统会先调用 <a href=\"https://developer.android.google.cn/reference/android/app/Activity?hl=zh-cn#onDestroy()\"> <code>onDestroy()</code> </a>。调用原因有以下两种情况</p>\n<ol>\n<li>Activity 即将结束（由于用户彻底关闭 Activity 或由于系统为 Activity 调用 <a href=\"https://developer.android.google.cn/reference/android/app/Activity?hl=zh-cn#finish()\"> <code>finish()</code> </a>）</li>\n<li>由于配置变更（例如设备旋转或多窗口模式），系统暂时销毁 Activity</li>\n</ol>\n<h4 id=\"onrestart\"><a class=\"anchor\" href=\"#onrestart\">#</a> OnRestart()</h4>\n<p>重启活动。重新加载内存中的页面数据</p>\n<h4 id=\"onnewlntent\"><a class=\"anchor\" href=\"#onnewlntent\">#</a> OnNewlntent()</h4>\n<p>重用已有的活动实例</p>\n<hr />\n<h3 id=\"activity的跳转\"><a class=\"anchor\" href=\"#activity的跳转\">#</a> Activity 的跳转</h3>\n<blockquote>\n<p>两种跳转模式</p>\n</blockquote>\n<ol>\n<li>显式 Intent (精准)</li>\n<li>隐式 Intent (模糊)</li>\n</ol>\n<hr />\n<h4 id=\"显式-intent\"><a class=\"anchor\" href=\"#显式-intent\">#</a> 显式 Intent</h4>\n<blockquote>\n<p>按名称指定要启动的组件，创建显式启动 Activity 或服务时，系统将立即启动 Intent 对象中指定的应用组件</p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th>组件名称</th>\n<th>方法名称</th>\n<th>方法作用</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Activity</td>\n<td>startActivity()</td>\n<td>跳转到新的 (另一个) Activity</td>\n</tr>\n<tr>\n<td>Service</td>\n<td>startService()</td>\n<td>启动服务</td>\n</tr>\n<tr>\n<td></td>\n<td>bindService()</td>\n<td>绑定服务</td>\n</tr>\n<tr>\n<td>BroadcastReceiver</td>\n<td>sendBroadcasts()</td>\n<td>发送无序广播</td>\n</tr>\n<tr>\n<td></td>\n<td>sendOrderdBroadcasts()</td>\n<td>发送有序广播</td>\n</tr>\n</tbody>\n</table>\n<blockquote>\n<p>三种构建方式</p>\n</blockquote>\n<ol>\n<li>在 intent 的构造函数中指定</li>\n</ol>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token class-name\">Intent</span> intent <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Intent</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">FirstActivity</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">ThirdActivity</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><ul>\n<li>\n<p>调用意图对象的 setclass 方法指定</p>\n</li>\n<li>\n<p>调用意图对象的 setComponent 方法指定</p>\n</li>\n</ul>\n<hr />\n<h3 id=\"activity-的启动模式task栈\"><a class=\"anchor\" href=\"#activity-的启动模式task栈\">#</a> Activity 的启动模式 (Task 栈)</h3>\n<p><strong>栈:</strong></p>\n<p><strong>后进先出 (LIFO)，常用操作入栈 (push)，出栈 (pop)，处于最顶部的叫栈顶，最底部叫栈底</strong></p>\n<h4 id=\"默认启动模式-standard\"><a class=\"anchor\" href=\"#默认启动模式-standard\">#</a> 默认启动模式 standard</h4>\n<ul>\n<li>按启动顺序压入 Task 栈 中，然后按顺序退出</li>\n</ul>\n<h4 id=\"栈顶复用模式-signletop\"><a class=\"anchor\" href=\"#栈顶复用模式-signletop\">#</a> 栈顶复用模式 signleTop</h4>\n<ul>\n<li>如果栈顶的 Activity 为我们要新建的，就不会重复创建新的 Activity</li>\n</ul>\n<h4 id=\"栈内复用模式-singletask\"><a class=\"anchor\" href=\"#栈内复用模式-singletask\">#</a> 栈内复用模式 singleTask</h4>\n<ul>\n<li>在创建了多个不同的 Activity 之后，如果再创建一个主界面，则直接弹出其它界面，回到主界面</li>\n</ul>\n<h4 id=\"全局唯一模式-singleinstance\"><a class=\"anchor\" href=\"#全局唯一模式-singleinstance\">#</a> 全局唯一模式 singleInstance</h4>\n<ul>\n<li>会为每一个目标 Activity 创建一个新的 Task 栈，并获得焦点</li>\n<li>如果已经创建过目标 Activity, 则之间将创建过的唤醒使用</li>\n</ul>\n<hr />\n<h2 id=\"service\"><a class=\"anchor\" href=\"#service\">#</a> Service</h2>\n<ul>\n<li>Service 是 android 系统的四大组件之一，是一种长生命周期的，没有可视化界面，运行于后台的一种服务程序</li>\n<li>Service 组件通常用于为其他组件提供后台服务或监控其他组件的运行状态</li>\n<li>即使应用被切换到后台或用户关闭了应用，Service 也可以继续运行</li>\n</ul>\n<h3 id=\"started-service\"><a class=\"anchor\" href=\"#started-service\">#</a> Started Service</h3>\n<p>​\t被开启的 service 通过其他组件调用 startService () 被创建，这种 service 可以无限地运行下去，必须调用 stopSelf () 方法或者其他组件调用 stopService () 方法来停止它，当 service 被停止时，系统会销毁它</p>\n<ul>\n<li><strong>启动方式</strong>：当你调用 <code>startService()</code>  时，Service 会立即启动（或如果它已经在运行，则不会重新创建），并且会执行其 <code>onStartCommand()</code>  方法。</li>\n<li><strong>生命周期</strong>：Service 的生命周期与启动它的组件（如 Activity）的生命周期不直接相关。即使启动 Service 的 Activity 被销毁，Service 也会继续运行，直到它被明确地停止（通过调用 <code>stopService()</code>  或 Service 内部的 <code>stopSelf()</code> ）。</li>\n<li><strong>并发性</strong>：Service 可以在其自己的进程中运行（如果它在 AndroidManifest.xml 中声明为在单独的进程中），并且它可以同时处理来自多个客户端的请求。</li>\n<li><strong>用途</strong>：常用于执行后台任务，如文件下载、位置更新等，这些任务不依赖于启动它的组件。</li>\n</ul>\n<h3 id=\"bounded-service\"><a class=\"anchor\" href=\"#bounded-service\">#</a> Bounded Service</h3>\n<p>​\t被绑定的 service 是当其他组件（一个客户）调用 bindService () 来创建的，客户可以通过一个 IBinder 接口和 service 进行通信，客户可以通过 unbindService () 方法来关闭这种连接，一个 service 可以同时和多个客户绑定，当多个客户都解除绑定之后，系统会销毁 service</p>\n<ul>\n<li><strong>启动方式</strong>：当你调用 <code>bindService()</code>  时，Service 会被启动（如果它尚未运行），并且客户端（如 Activity）会与 Service 建立连接。一旦连接建立，客户端可以访问 Service 中定义的接口，并与之进行交互。</li>\n<li><strong>生命周期</strong>：Service 的生命周期与绑定到它的客户端组件的生命周期紧密相关。当最后一个客户端与 Service 断开连接时（通过调用 <code>unbindService()</code> ），如果 Service 中没有其他正在运行的回调（如 <code>onStartCommand()</code>  中的工作），则 Service 将被销毁。</li>\n<li><strong>并发性</strong>：与 <code>startService()</code>  不同， <code>bindService()</code>  通常用于单个客户端与 Service 之间的交互，而不是处理来自多个客户端的请求。</li>\n<li><strong>用途</strong>：常用于需要客户端与 Service 之间进行交互的场景，如音乐播放器中的媒体控制、与远程服务的通信等。</li>\n</ul>\n<p>进程</p>\n<p>​\tService 还有一个作用就是提升进程 (每个应用都是一个进程) 的优先级，进程的优先级指的是在 Android 系统中，会把正在运行的应用确定一个优先级，当内存空间不足时，系统会根据进程的优先级清理掉一部分进程占用的内存空间，以获得足够的内存空间以供新启用的应用运行。</p>\n<ul>\n<li>前台进程：应用程序存在 Activity 正位于前台，可见并可控</li>\n<li>可见进程：应用程序存在 Activity 处于局部可见状态，即局部可见却不可控</li>\n<li>服务进程：应用程序存在正在运行的 Service</li>\n<li>后台进程：应用程序的所有 Activity 均被置于后台，没有任何 Activity 可见</li>\n<li>空进程：已经退出的应用程序</li>\n</ul>\n<h2 id=\"broadcastreceiver广播接收器\"><a class=\"anchor\" href=\"#broadcastreceiver广播接收器\">#</a> BroadcastReceiver（广播接收器)</h2>\n<ul>\n<li>BroadcastReceiver 用于接收来自其他应用或系统发出的广播（Broadcast）</li>\n<li>广播可以是系统广播（如网络状态变化、电池电量低等）或应用自定义广播</li>\n<li>BroadcastReceiver 没有用户界面，通常用于在接收到广播时执行一些后台操作，如更新 UI、启动 Service 等</li>\n</ul>\n<h2 id=\"contentprovider内容提供者\"><a class=\"anchor\" href=\"#contentprovider内容提供者\">#</a> ContentProvider（内容提供者)</h2>\n<ul>\n<li>ContentProvider 是 Android 系统中不同应用之间共享数据的标准接口。</li>\n<li>它允许一个应用访问另一个应用的数据（如联系人、照片等），而无需知道数据的具体存储方式。</li>\n<li>ContentProvider 通常用于实现跨应用数据共享，如将联系人信息提供给第三方应用。</li>\n<li>开发者可以通过实现 ContentProvider 类来定义自己的数据共享接口，并通过 URI 来访问这些数据</li>\n</ul>\n<p>使用方法:</p>\n<ol>\n<li><strong>自定义 ContentProvider 类</strong>：开发者需要继承 Android 提供的 ContentProvider 基类，并实现其中的方法。这些方法包括 onCreate（）、query（）、insert（）、update（）、delete（）等，用于处理数据的创建、查询、插入、更新和删除操作。</li>\n<li><strong>定义 URI</strong>：每个 ContentProvider 都需要定义一个唯一的 URI，用于指定到它的数据集。URI 的格式通常为 <code>content://&lt;authority&gt;/&lt;path&gt;</code> ，其中 <code>&lt;authority&gt;</code>  是 ContentProvider 的唯一标识符， <code>&lt;path&gt;</code>  是数据集的路径。</li>\n<li><strong>使用 ContentResolver</strong>：ContentResolver 是数据调用者，它结合 URI 对 ContentProvider 进行增删改查操作。开发者可以通过调用 ContentResolver 的 query（）、insert（）、update（）、delete（）等方法来访问 ContentProvider 中的数据</li>\n</ol>\n<hr />\n<h1 id=\"数据传递\"><a class=\"anchor\" href=\"#数据传递\">#</a> 数据传递</h1>\n<h2 id=\"intent\"><a class=\"anchor\" href=\"#intent\">#</a> Intent</h2>\n<blockquote>\n<p>两种传递数据</p>\n</blockquote>\n<ol>\n<li>向下传递数据</li>\n<li>向上传递数据</li>\n</ol>\n<hr />\n<blockquote>\n<p>向下传递数据</p>\n</blockquote>\n<p>通过 Intent 提供的 <code>putExtra()</code>  方法，将要传递的数据暂存在 Intent 中</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// 放入数据</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">// 跳转页面</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre> <span class=\"token class-name\">Intent</span> intent <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Intent</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">FirstActivity</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">ThirdActivity</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\">// 放入 String 数据</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>intent<span class=\"token punctuation\">.</span><span class=\"token function\">putExtra</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"name\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"张三\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\">// 放入 int 数据</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>intent<span class=\"token punctuation\">.</span><span class=\"token function\">putExtra</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"age\"</span><span class=\"token punctuation\">,</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>第二页面获取数据</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// 获取实例\t\t\t</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token class-name\">Intent</span> intent <span class=\"token operator\">=</span> <span class=\"token function\">getIntent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token comment\">// 获取字符串 </span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token class-name\">String</span> name <span class=\"token operator\">=</span> intent<span class=\"token punctuation\">.</span><span class=\"token function\">getStringExtra</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"name\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token comment\">// 获取 int</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">int</span> age <span class=\"token operator\">=</span> intent<span class=\"token punctuation\">.</span><span class=\"token function\">getIntExtra</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"age\"</span><span class=\"token punctuation\">,</span>defalult value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token comment\">// 初始化    </span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>tv_date <span class=\"token operator\">=</span> <span class=\"token function\">findViewById</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">R</span><span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">.</span>tv_date<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token comment\">// 输入文字  </span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>tv_date<span class=\"token punctuation\">.</span><span class=\"token function\">setText</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"接收到数据:\\n姓名:\"</span><span class=\"token operator\">+</span>name<span class=\"token operator\">+</span><span class=\"token string\">\"\\n年龄:\"</span><span class=\"token operator\">+</span>age<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><blockquote>\n<p>向上传递数据</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// 父 activity</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token class-name\">Intent</span> intent <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Intent</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> secondActivity<span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">startActivityForResult</span><span class=\"token punctuation\">(</span>intent<span class=\"token punctuation\">,</span> <span class=\"token constant\">REQUEST_CODE</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// 启动需要监听返回值的 Activity，并设置请求码：requestCode</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\">// 重写响应</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">protected</span> <span class=\"token keyword\">void</span> <span class=\"token function\">onActivityResult</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> requestCode<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> resultCode<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Intent</span> data<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token function\">onActivityResult</span><span class=\"token punctuation\">(</span>requestCode<span class=\"token punctuation\">,</span> resultCode<span class=\"token punctuation\">,</span> data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token comment\">// 当 otherActivity 中返回数据的时候，会响应此方法</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token comment\">//requestCode 和 resultCode 必须与请求 startActivityForResult () 和返回 setResult () 的时候传入的值一致。</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>requestCode<span class=\"token operator\">==</span><span class=\"token number\">1</span><span class=\"token operator\">&amp;&amp;</span>resultCode<span class=\"token operator\">==</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token keyword\">int</span> three<span class=\"token operator\">=</span>data<span class=\"token punctuation\">.</span><span class=\"token function\">getIntExtra</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"key\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        result<span class=\"token punctuation\">.</span><span class=\"token function\">setText</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">.</span><span class=\"token function\">valueOf</span><span class=\"token punctuation\">(</span>three<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token comment\">// 在子 Activity 中  </span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token class-name\">Intent</span> returnIntent <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Intent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>returnIntent<span class=\"token punctuation\">.</span><span class=\"token function\">putExtra</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"key\"</span><span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token function\">setResult</span><span class=\"token punctuation\">(</span><span class=\"token constant\">RESULT_OK</span><span class=\"token punctuation\">,</span> returnIntent<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// 设置结果吗，让上一响应</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token function\">finish</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// 使用完成后结束当前 Activity 的生命周期</span></pre></td></tr></table></figure><h2 id=\"bundle\"><a class=\"anchor\" href=\"#bundle\">#</a> Bundle</h2>\n<p><strong>Bundle 是一种用于存储和传递数据的数据结构</strong>，通常用于在不同组件（如 Activity、Fragment、Service）之间传递数据</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// 写数据</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token class-name\">Bundle</span> args <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Bundle</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>args<span class=\"token punctuation\">.</span><span class=\"token function\">putString</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"MainActivity\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"Hello\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token class-name\">Intent</span> intent <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Intent</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">MainActivity</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">SecondActivity</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\">// 把 Bundle 容器中的数据放到 Intent 中</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>intent<span class=\"token punctuation\">.</span><span class=\"token function\">putExtras</span><span class=\"token punctuation\">(</span>bundle<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\">// 启动该 Intent，实现 Activity 的跳转</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token function\">startActivity</span><span class=\"token punctuation\">(</span>intent<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p><strong>Bundle 所保存的数据是以 key-value (键值对) 的形式保存在 ArrayMap 中</strong></p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// 读数据</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token class-name\">Intent</span> intent <span class=\"token operator\">=</span> <span class=\"token function\">getIntent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">// 从 Intent 中取出 Bundle</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token class-name\">Bundle</span> bundle <span class=\"token operator\">=</span> intent<span class=\"token punctuation\">.</span><span class=\"token function\">getExtras</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\">// 获取 FunPerson 里的数据数据</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token class-name\">String</span> name <span class=\"token operator\">=</span> bundle<span class=\"token punctuation\">.</span><span class=\"token function\">getString</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"MainActivity\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><h1 id=\"数据存储\"><a class=\"anchor\" href=\"#数据存储\">#</a> 数据存储</h1>\n<h2 id=\"安卓文件的操作模式\"><a class=\"anchor\" href=\"#安卓文件的操作模式\">#</a> 安卓文件的操作模式</h2>\n<table>\n<thead>\n<tr>\n<th>模式</th>\n<th>内容</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>MODE_PRIVATE</td>\n<td>默认操作模式，代表该文件是私有数据，只能够被本应用本身访问，写入的内容会覆盖原文件的内容</td>\n</tr>\n<tr>\n<td>MODE_APPEND</td>\n<td>MODE_APPEND 会检验文件是否存在，存在的话往文件中追加内容，否则建立新文件</td>\n</tr>\n<tr>\n<td>MODE_WORLD_READABLE</td>\n<td>当前文件可以被其他应用读取</td>\n</tr>\n<tr>\n<td>MODE_WORLD_WRITEABLE</td>\n<td>当前文件可以被其他应用写入</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"sharedpreferences\"><a class=\"anchor\" href=\"#sharedpreferences\">#</a> SharedPreferences</h2>\n<blockquote>\n<p>适用于保存一些简单数据和键值对</p>\n</blockquote>\n<h3 id=\"存数据\"><a class=\"anchor\" href=\"#存数据\">#</a> 存数据</h3>\n<blockquote>\n<p>使用步骤</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">write</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token comment\">//1. 通过 getSharedPreferences () 方法获取 SharedPreferences 对象</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token class-name\">SharedPreferences</span> sp <span class=\"token operator\">=</span> <span class=\"token function\">getSharedPreferences</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"包名\"</span><span class=\"token punctuation\">,</span><span class=\"token constant\">MODE_PRIVATE</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token comment\">//2. 通过该对象的 edit () 方法获取一个 Editor 对象，通过这个对象可以保存数据</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token class-name\">SharedPreferences<span class=\"token punctuation\">.</span>Editor</span> editor <span class=\"token operator\">=</span> sp<span class=\"token punctuation\">.</span><span class=\"token function\">edit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token comment\">//3. 往 editor 对象中添加数据 (键值对数据)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    editor<span class=\"token punctuation\">.</span><span class=\"token function\">putString</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"name\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"newland\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// 存字符串类型的数据。键是 name, 值是 newland</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    editor<span class=\"token punctuation\">.</span><span class=\"token function\">putBoolean</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"rememberpass\"</span><span class=\"token punctuation\">,</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// 存布尔类型的数据。键是 rememberpass, 值是 true</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token comment\">//4. 提交数据，完成存储</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    editor<span class=\"token punctuation\">.</span><span class=\"token function\">commit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>关于 getSharedPreferences (&quot;包名&quot;,MODE_PRIVATE) 方法解析</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">getSharedPreferences</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"1.包名\"</span><span class=\"token punctuation\">,</span><span class=\"token number\">2.</span> <span class=\"token constant\">MODE_PRIVATE</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>方法的两个参数</pre></td></tr></table></figure><ol>\n<li>文件名，第一次使用时文件名不存在则会创建一个</li>\n<li>操作模式，MODE_PRIVATE 表示只有当前应用程序才可以读写这个文件</li>\n</ol>\n<h3 id=\"取数据\"><a class=\"anchor\" href=\"#取数据\">#</a> 取数据</h3>\n<blockquote>\n<p>SharedPreferences 对象提供了一系列的 get 方法来取数据 (取数据时需要指明取什么类型的数据)</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">read</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token comment\">//1. 通过 getSharedPreferences () 方法获取 SharedPreferences 对象</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token class-name\">SharedPreferences</span> sp <span class=\"token operator\">=</span> <span class=\"token function\">getSharedPreferences</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"包名\"</span><span class=\"token punctuation\">,</span><span class=\"token constant\">MODE_PRIVATE</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token comment\">//2. 从中取出数据</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token class-name\">String</span> sname <span class=\"token operator\">=</span> sp<span class=\"token punctuation\">.</span><span class=\"token function\">getString</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"name\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token comment\">// 取字符串类型的数据。键值是 name, 取不到值，默认返回 \"\"</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token class-name\">Boolean</span> flag <span class=\"token operator\">=</span> sp<span class=\"token punctuation\">.</span><span class=\"token function\">getBoolean</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"rememberpass\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"false\"</span><span class=\"token punctuation\">)</span><span class=\"token comment\">// 取布尔类型的数据。键值是 rememberpass, 取不到值，默认返回 0</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token class-name\">Sysrem</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"sname=\"</span><span class=\"token operator\">+</span>sname<span class=\"token operator\">+</span><span class=\"token string\">\",flag=\"</span><span class=\"token operator\">+</span>flag<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><hr />\n<h2 id=\"io流数据存储\"><a class=\"anchor\" href=\"#io流数据存储\">#</a> I/O 流数据存储</h2>\n<h3 id=\"存入\"><a class=\"anchor\" href=\"#存入\">#</a> 存入</h3>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token class-name\">FileOutputStream</span> data <span class=\"token operator\">=</span> <span class=\"token function\">openFileOutput</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"file.txt\"</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Context</span><span class=\"token punctuation\">.</span><span class=\"token constant\">MODE_PRIVATE</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\">//MODE_PRIVATE 表示私有模式，文件只能被应用本身访问；MODE_APPEND 表示追加模式，如果文件已存在，则写入的数据将被追加到文件末尾</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token class-name\">String</span> inputFileContext <span class=\"token operator\">=</span> <span class=\"token string\">\"hello android\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\">// 写入数据，字符串转换为字节数组</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>data<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span>inputFileContext<span class=\"token punctuation\">.</span><span class=\"token function\">getBytes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\">// 释放系统资源</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>data<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><h3 id=\"取出\"><a class=\"anchor\" href=\"#取出\">#</a> 取出</h3>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token class-name\">FileInputStream</span> fis <span class=\"token operator\">=</span> <span class=\"token function\">openFileInput</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"data.txt\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>\t<span class=\"token keyword\">byte</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> buffer <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token keyword\">byte</span><span class=\"token punctuation\">[</span><span class=\"token number\">1024</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">// 定义字节数组存入数据</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">int</span> bytesRead<span class=\"token punctuation\">;</span>  </pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token class-name\">StringBuilder</span> text <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">StringBuilder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//StringBuilder 是一个可变字符序列，用于高效地构建字符串</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>bytesRead <span class=\"token operator\">=</span> fis<span class=\"token punctuation\">.</span><span class=\"token function\">read</span><span class=\"token punctuation\">(</span>buffer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">!=</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>  <span class=\"token comment\">// 从文件输入流（FileInputStream）中读取数据到字节数组（buffer）中</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token comment\">// 从一个输入流中读取的字节数据转换为字符串，并追加到一个 StringBuilder 对象 text 的末尾</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        text<span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">(</span>buffer<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> bytesRead<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  </pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span>  </pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token class-name\">String</span> readData <span class=\"token operator\">=</span> text<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><table>\n<thead>\n<tr>\n<th>方法</th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>getDir(name,mode)</td>\n<td>在 app 的 data 目录下获取或创建 name 对应的子目录</td>\n</tr>\n<tr>\n<td>getFileDir()</td>\n<td>获得 app 的 data 目录的 file 目录的绝对路径</td>\n</tr>\n<tr>\n<td>String[] fileList()</td>\n<td>返回 app 的 data 目录下的全部文件</td>\n</tr>\n<tr>\n<td>deleteFile(filename)</td>\n<td>删除 app 的 data 目录下的指定文件</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"sql-lite\"><a class=\"anchor\" href=\"#sql-lite\">#</a> SQL Lite</h2>\n<ul>\n<li><strong>Step 1</strong>：自定义一个类继承 SQLiteOpenHelper 类</li>\n<li><strong>Step 2</strong>：在该类的构造方法的 super 中设置好要创建的数据库名，版本号</li>\n<li><strong>Step 3</strong>：重写 onCreate ( ) 方法创建表结构</li>\n<li><strong>Step 4</strong>：重写 onUpgrade ( ) 方法定义版本号发生改变后执行的操作</li>\n</ul>\n<blockquote>\n<p>示例</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">MySQLopenHelper</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">SQLiteOpenHelper</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">MySQLopenHelper</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Context</span> context<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span> name<span class=\"token punctuation\">,</span> <span class=\"token class-name\">CursorFactory</span> factory<span class=\"token punctuation\">,</span><span class=\"token keyword\">int</span> version<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>        <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>context<span class=\"token punctuation\">,</span> <span class=\"token string\">\"my.db\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> </pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token comment\">// 数据库第一次创建时被调用</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">onCreate</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">SQLiteDatabase</span> db<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        db<span class=\"token punctuation\">.</span><span class=\"token function\">execSQL</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"CREATE TABLE Student(_id INTEGER PRIMARY KEY AUTOINCREMENT,name VARCHAR(20))\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token comment\">// 软件版本号发生改变时调用</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">onUpgrade</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">SQLiteDatabase</span> db<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> oldVersion<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> newVersion<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        db<span class=\"token punctuation\">.</span><span class=\"token function\">execSQL</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ALTER TABLE person ADD phone VARCHAR(12) NULL\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><blockquote>\n<p>使用 API</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token class-name\">MySQLopenHelper</span> mySQLopenHelper <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">MyDBOpenHelper</span><span class=\"token punctuation\">(</span>mContext<span class=\"token punctuation\">,</span> <span class=\"token string\">\"my.db\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// 建表</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token class-name\">SQLiteDatabase</span> db <span class=\"token operator\">=</span> myDBHelper<span class=\"token punctuation\">.</span><span class=\"token function\">getWritableDatabase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// 设置数据库以读写方式打开数据库</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\">// 插入</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token class-name\">ContentValues</span> values <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ContentValues</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>values<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"name\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"小明\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>db<span class=\"token punctuation\">.</span><span class=\"token function\">insert</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Student\"</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>values<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// 参数分别为表名，列名，数据</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\">// 改</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token class-name\">ContentValues</span> values1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ContentValues</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>values1<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"name\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"大明\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>db<span class=\"token punctuation\">.</span><span class=\"token function\">updata</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Student\"</span><span class=\"token punctuation\">,</span>values1<span class=\"token punctuation\">,</span><span class=\"token string\">\"name = ?\"</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">&#123;</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// 参数分别为表名，修改后的值，where 条件，约束的值 (要修改的 id 名)</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token comment\">// 删</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>db<span class=\"token punctuation\">.</span><span class=\"token function\">delete</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Student\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"_id = ?\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">&#123;</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// 参数依次是表名，以及 where 条件与约束</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token comment\">// 查</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token class-name\">StringBuilder</span> sb <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">StringBuilder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token comment\">// 参数依次是：表名，列名，where 约束条件，where 中占位符提供具体的值，指定 group by 的列，进一步约束</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token class-name\">Cursor</span> cursor <span class=\"token operator\">=</span> db<span class=\"token punctuation\">.</span><span class=\"token function\">query</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Student\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre></pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token comment\">// 遍历查询结果</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>cursor <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>cursor<span class=\"token punctuation\">.</span><span class=\"token function\">moveToNext</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        <span class=\"token class-name\">String</span> name <span class=\"token operator\">=</span> cursor<span class=\"token punctuation\">.</span><span class=\"token function\">getString</span><span class=\"token punctuation\">(</span>cursor<span class=\"token punctuation\">.</span><span class=\"token function\">getColumnIndex</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"_id\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// 获取列名为_id 的所有数据</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    cursor<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><h3 id=\"stringbuilder概述和cursor概述\"><a class=\"anchor\" href=\"#stringbuilder概述和cursor概述\">#</a> StringBuilder 概述和 Cursor 概述</h3>\n<p><strong>StringBuilder</strong></p>\n<ol>\n<li>查阅 <code>java.lang.StringBuilder</code>  的 API，StringBuilder 又称为可变字符序列，它是一个类似于 String 的字符串缓冲区，通过某些方法调用可以改变该序列的长度和内容。</li>\n<li>它的内部拥有一个数组用来存放字符串内容，进行字符串拼接时，直接在数组中加入新内容。StringBuilder 会自动维护数组的扩容</li>\n</ol>\n<p><strong>Cursor</strong></p>\n<ol>\n<li><code>Cursor</code>  是 Android<a href=\"https://cloud.baidu.com/solution/database.html\"> 数据库</a>查询的核心组件，它提供了对查询结果集的访问。你可以把它想象成一个指针，指向查询结果集中的一行数据。通过 <code>Cursor</code> ，你可以遍历查询结果集，获取每一行数据的列值。</li>\n<li>在 Android 中， <code>Cursor</code>  通常用于访问 SQLite 数据库，但也可以用于访问其他类型的数据源，如文件、<a href=\"https://cloud.baidu.com/product/et.html\">网络</a>等。使用 <code>Cursor</code>  时，需要注意其生命周期管理，避免内存泄漏。</li>\n</ol>\n<hr />\n<h1 id=\"物联网开发\"><a class=\"anchor\" href=\"#物联网开发\">#</a> 物联网开发</h1>\n<blockquote>\n<p>前提步骤</p>\n</blockquote>\n<p>将 libs 中的文件复制到安卓项目中</p>\n<h2 id=\"40174150的控制\"><a class=\"anchor\" href=\"#40174150的控制\">#</a> 4017&amp;4150 的控制</h2>\n<blockquote>\n<p>4017 和 4150 的初始化</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// 利用 Tcp 进行控制</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token class-name\">MD4017</span> md4017 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">MD4017</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">DataBusFactory</span><span class=\"token punctuation\">.</span><span class=\"token function\">newSocketDataBus</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"串口服务器地址\"</span><span class=\"token punctuation\">,</span>端口号<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>监听<span class=\"token punctuation\">(</span>可以选择<span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token class-name\">Modbus4150</span> modbus4150 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Modbus4150</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">DataBusFactory</span><span class=\"token punctuation\">.</span><span class=\"token function\">newSocketDataBus</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"串口服务器地址\"</span><span class=\"token punctuation\">,</span>端口号<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>监听<span class=\"token punctuation\">(</span>可<span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\">// 用串口直连</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token class-name\">Modbus4150</span> modbus4150 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Modbus4150</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">DataBusFactory</span><span class=\"token punctuation\">.</span><span class=\"token function\">newSerialDataBus</span><span class=\"token punctuation\">(</span>串口号<span class=\"token punctuation\">,</span>波特率<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token class-name\">MD4017</span> md4017 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">MD4017</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">DataBusFactory</span><span class=\"token punctuation\">.</span><span class=\"token function\">newSerialDataBus</span><span class=\"token punctuation\">(</span>串口号<span class=\"token punctuation\">,</span>波特率<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><blockquote>\n<p>4017 获得传感器数据</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>md4017<span class=\"token punctuation\">.</span><span class=\"token function\">getVin</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">MD4017ValListener</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>                <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>                <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">onVal</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> ints<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>                    ed_co2<span class=\"token punctuation\">.</span><span class=\"token function\">setText</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"串口号\"</span><span class=\"token punctuation\">]</span><span class=\"token operator\">+</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>                <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\">// 转换为实际的传感值：</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token class-name\">MD4017ValConvert</span><span class=\"token punctuation\">.</span><span class=\"token function\">getRealValByType</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Md4017VIN</span><span class=\"token punctuation\">.</span><span class=\"token constant\">TEM</span><span class=\"token punctuation\">,</span> val<span class=\"token punctuation\">[</span><span class=\"token string\">\"串口号\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><blockquote>\n<p>4150 获取数据</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>modbus4150<span class=\"token punctuation\">.</span><span class=\"token function\">getVal</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"DI口\"</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">MdBus4150RelayListener</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>                <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>                <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">onVal</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> val<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>                    ed_co2<span class=\"token punctuation\">.</span><span class=\"token function\">setText</span><span class=\"token punctuation\">(</span>val<span class=\"token operator\">+</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>                <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><blockquote>\n<p>4150 控制继电器</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>modbus4150<span class=\"token punctuation\">.</span><span class=\"token function\">ctrlRelay</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"端子号\"</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">(</span>开<span class=\"token punctuation\">)</span><span class=\"token operator\">/</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">(</span>关<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">MdBus4150RelayListener</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>                <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>                <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">onCtrl</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">boolean</span> b<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>                <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>                <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>                <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">onFail</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Exception</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>                <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><hr />\n<h2 id=\"rfid的读取\"><a class=\"anchor\" href=\"#rfid的读取\">#</a> RFID 的读取</h2>\n<blockquote>\n<p>RFID 的初始化</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token class-name\">RFID</span> rfid <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">RFID</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">DataBusFactory</span><span class=\"token punctuation\">.</span><span class=\"token function\">newSocketDataBus</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"串口服务器地址\"</span><span class=\"token punctuation\">,</span>端口号<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>监听<span class=\"token punctuation\">(</span>可以选择<span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token class-name\">RFID</span> rfid  <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">RFID</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">DataBusFactory</span><span class=\"token punctuation\">.</span><span class=\"token function\">newSerialDataBus</span><span class=\"token punctuation\">(</span>串口号<span class=\"token punctuation\">,</span>波特率<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><blockquote>\n<p>读取单张 RFID 号</p>\n</blockquote>\n<p>读到卡号后执行完操作后自动停止</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>rfid<span class=\"token punctuation\">.</span><span class=\"token function\">readSingleEpc</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">SingleEpcListener</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">onVal</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> val<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        tvSingleEpc<span class=\"token punctuation\">.</span><span class=\"token function\">setText</span><span class=\"token punctuation\">(</span>val<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">onFail</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Exception</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>     \t<span class=\"token class-name\">Toast</span><span class=\"token punctuation\">.</span><span class=\"token function\">makeText</span><span class=\"token punctuation\">(</span><span class=\"token function\">getApplicationContext</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>e<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token class-name\">Toast</span><span class=\"token punctuation\">.</span><span class=\"token constant\">LENGTH_SHORT</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">show</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><blockquote>\n<p>读取数据</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>rfid<span class=\"token punctuation\">.</span><span class=\"token function\">readData</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">RFIDReadListener</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">onResult</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> str<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        <span class=\"token comment\">//str 为读到的数据</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        tvSingleEpc<span class=\"token punctuation\">.</span><span class=\"token function\">setText</span><span class=\"token punctuation\">(</span>str<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">onFail</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Exception</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>     \t<span class=\"token class-name\">Toast</span><span class=\"token punctuation\">.</span><span class=\"token function\">makeText</span><span class=\"token punctuation\">(</span><span class=\"token function\">getApplicationContext</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>e<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token class-name\">Toast</span><span class=\"token punctuation\">.</span><span class=\"token constant\">LENGTH_SHORT</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">show</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><hr />\n<h2 id=\"led显示屏\"><a class=\"anchor\" href=\"#led显示屏\">#</a> LED 显示屏</h2>\n<blockquote>\n<p>初始化</p>\n</blockquote>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token class-name\">LedScreen</span> ledScreen <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">LedScreen</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">DataBusFactory</span><span class=\"token punctuation\">.</span><span class=\"token function\">newSerialDataBus</span><span class=\"token punctuation\">(</span>串口号<span class=\"token punctuation\">,</span>波特率<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token class-name\">LedScreen</span> ledScreen <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">LedScreen</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">DataBusFactory</span><span class=\"token punctuation\">.</span><span class=\"token function\">newSocketDataBus</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"串口服务器地址\"</span><span class=\"token punctuation\">,</span>端口号<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>监听<span class=\"token punctuation\">(</span>可选<span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><blockquote>\n<p>发送文本</p>\n</blockquote>\n<p>PlayType：支持上下左右等，对应枚举为 UP,DOWN,RIGHT；</p>\n<p>ShowSpeed: 支持从 1 级到 8 级，对应枚举类为 ShowSpeed1 到 8</p>\n<p>stopTime：表示停止 * 秒</p>\n<p>validTime：小于 99 表示有效时间，大于 99 表示永久有效。</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>ledScreen<span class=\"token punctuation\">.</span><span class=\"token function\">sendTxt</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"要发送的内容\"</span><span class=\"token punctuation\">,</span><span class=\"token class-name\">PlayType</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">ShowSpeed</span><span class=\"token punctuation\">,</span> stopTime<span class=\"token punctuation\">,</span> validTime<span class=\"token punctuation\">,</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">LedListener</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token annotation punctuation\">@override</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">onsuccess</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">boolean</span> val<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        <span class=\"token class-name\">Toast</span> <span class=\"token function\">mokeText</span><span class=\"token punctuation\">(</span><span class=\"token function\">getApplicationContext</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>val<span class=\"token operator\">+</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Toast</span> <span class=\"token class-name\">LENGTH</span> <span class=\"token constant\">SHORT</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">show</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token annotation punctuation\">@Overcide</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">onFail</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Exception</span> e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token class-name\">Toast</span><span class=\"token punctuation\">.</span><span class=\"token function\">makeText</span><span class=\"token punctuation\">(</span><span class=\"token function\">getApplicationContext</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> e<span class=\"token punctuation\">.</span><span class=\"token function\">tostring</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Toast</span><span class=\"token punctuation\">.</span><span class=\"token constant\">LENGTH_SHORT</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">show</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><hr />\n<h2 id=\"so文件的导入\"><a class=\"anchor\" href=\"#so文件的导入\">#</a> SO 文件的导入</h2>\n<p>到使用新大陆库文件的时候偶尔会出现找不到 so 文件的情况，需要在 build.gradle (app) 中添加</p>\n<figure class=\"highlight xml\"><figcaption data-lang=\"XML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>sourceSets &#123;</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>        main &#123;</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>            jniLibs.srcDirs = ['libs']</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        &#125;</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    &#125;</pre></td></tr></table></figure><hr />\n<h2 id=\"云平台sdk的使用\"><a class=\"anchor\" href=\"#云平台sdk的使用\">#</a> 云平台 SDK 的使用</h2>\n<p>创建 netWorkBusiness 的实例</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>netWorkBusiness <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">NetWorkBusiness</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\" http://api.nlecloud.com\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>用得到的实例调用 signIn 登录云平台获取 accessToken</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>netWorkBusiness<span class=\"token punctuation\">.</span><span class=\"token function\">signIn</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">SignIn</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"account\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"password\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">NCallBack</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">BaseResponseEntity</span><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">User</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>            <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>            <span class=\"token keyword\">protected</span> <span class=\"token keyword\">void</span> <span class=\"token function\">onResponse</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">BaseResponseEntity</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">User</span><span class=\"token punctuation\">></span></span> response<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>                <span class=\"token comment\">// 将得到的 token 重新登录云平台</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>                netWorkBusiness <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">NetWorkBusiness</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span><span class=\"token function\">getResultObj</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getAccessToken</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token string\">\" http://api.nlecloud.com\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>                <span class=\"token comment\">// 放入需要操作的代码</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>获取数据或者操作</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>netWorkBusiness<span class=\"token punctuation\">.</span><span class=\"token function\">getSensor</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"设备号\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Tag号\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">NCallBack</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">BaseResponseEntity</span><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">SensorInfo</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>        <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>        <span class=\"token keyword\">protected</span> <span class=\"token keyword\">void</span> <span class=\"token function\">onResponse</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">BaseResponseEntity</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">SensorInfo</span><span class=\"token punctuation\">></span></span> response<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span><span class=\"token function\">getResultObj</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getValue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>                <span class=\"token comment\">// 把数值转换成 int 型</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>                <span class=\"token keyword\">double</span> doubleValue <span class=\"token operator\">=</span> <span class=\"token class-name\">Double</span><span class=\"token punctuation\">.</span><span class=\"token function\">parseDouble</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span><span class=\"token function\">getResultObj</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getValue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>                <span class=\"token keyword\">int</span> intValue <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">)</span> doubleValue<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>                <span class=\"token comment\">// 进行其它操作</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><hr />\n<h1 id=\"其它\"><a class=\"anchor\" href=\"#其它\">#</a> 其它</h1>\n<h2 id=\"设置屏幕保持显示不息屏\"><a class=\"anchor\" href=\"#设置屏幕保持显示不息屏\">#</a> 设置屏幕保持显示不息屏</h2>\n<ul>\n<li>在 xml 顶层文件中设置 android:keepScreenOn 属性为 &quot;true&quot; 即可</li>\n</ul>\n<hr />\n<h2 id=\"隐藏顶部状态栏\"><a class=\"anchor\" href=\"#隐藏顶部状态栏\">#</a> 隐藏顶部状态栏</h2>\n<ul>\n<li>活动的主题中添加以下代码： <code>&lt;item name=&quot;android:windowFullscreen&quot;&gt;true&lt;/item&gt;</code></li>\n<li>在代码中使用以下方法： <code>getWindow().getDecorView().setSystemUiVisibility(View.SYSTEM_UI_FLAG_FULLSCREEN);</code></li>\n</ul>\n<p><em>请注意，隐藏状态栏可能会影响用户体验，因此应该在适当的时候使用。同时，不同版本的 Android 系统可能会有不同的兼容性问题，需要针对具体版本做适配处理</em></p>\n<hr />\n<h2 id=\"listview与adapter的结合使用\"><a class=\"anchor\" href=\"#listview与adapter的结合使用\">#</a> ListView 与 Adapter 的结合使用</h2>\n<p>Adapter 关键代码</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">MyAdapter</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">BaseAdapter</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Context</span> mcontext<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> mtext<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> medit<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">SparseArray</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> etc <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">SparseArray</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">MyAdapter</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> text<span class=\"token punctuation\">,</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> edit<span class=\"token punctuation\">,</span><span class=\"token class-name\">Context</span> context<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>mtext <span class=\"token operator\">=</span> text<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>medit <span class=\"token operator\">=</span> edit<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>mcontext <span class=\"token operator\">=</span> context<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">int</span> <span class=\"token function\">getCount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token keyword\">return</span> mtext<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Object</span> <span class=\"token function\">getItem</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token keyword\">return</span> mtext<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">long</span> <span class=\"token function\">getItemId</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        <span class=\"token keyword\">return</span> i<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token annotation punctuation\">@SuppressLint</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ViewHolder\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">View</span> <span class=\"token function\">getView</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">final</span> <span class=\"token keyword\">int</span> i<span class=\"token punctuation\">,</span> <span class=\"token class-name\">View</span> view<span class=\"token punctuation\">,</span> <span class=\"token class-name\">ViewGroup</span> viewGroup<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>        <span class=\"token class-name\">ViewHolder</span> viewHolder<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>view <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>            view <span class=\"token operator\">=</span> <span class=\"token class-name\">LayoutInflater</span><span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span>mcontext<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">inflate</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">R</span><span class=\"token punctuation\">.</span>layout<span class=\"token punctuation\">.</span>setting<span class=\"token punctuation\">,</span>viewGroup<span class=\"token punctuation\">,</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>            viewHolder <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ViewHolder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>            viewHolder<span class=\"token punctuation\">.</span>editText <span class=\"token operator\">=</span> view<span class=\"token punctuation\">.</span><span class=\"token function\">findViewById</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">R</span><span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">.</span>set_edit<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>            view<span class=\"token punctuation\">.</span><span class=\"token function\">setTag</span><span class=\"token punctuation\">(</span>viewHolder<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>            viewHolder <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">ViewHolder</span><span class=\"token punctuation\">)</span>view<span class=\"token punctuation\">.</span><span class=\"token function\">getTag</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre></pre></td></tr><tr><td data-num=\"43\"></td><td><pre></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>        <span class=\"token class-name\">String</span> content <span class=\"token operator\">=</span> etc<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>content <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>            viewHolder<span class=\"token punctuation\">.</span>editText<span class=\"token punctuation\">.</span><span class=\"token function\">setText</span><span class=\"token punctuation\">(</span>content<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>            viewHolder<span class=\"token punctuation\">.</span>editText<span class=\"token punctuation\">.</span><span class=\"token function\">setText</span><span class=\"token punctuation\">(</span>medit<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>        viewHolder<span class=\"token punctuation\">.</span>editText<span class=\"token punctuation\">.</span><span class=\"token function\">addTextChangedListener</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">TextWatcher</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>            <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>            <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">beforeTextChanged</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">CharSequence</span> charSequence<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> i<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> i1<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> i2<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre></pre></td></tr><tr><td data-num=\"55\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>            <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre>            <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">onTextChanged</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">CharSequence</span> charSequence<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> i<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> i1<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> i2<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre></pre></td></tr><tr><td data-num=\"60\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre></pre></td></tr><tr><td data-num=\"62\"></td><td><pre>            <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre>            <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">afterTextChanged</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Editable</span> editable<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre>                etc<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">,</span>editable<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre></pre></td></tr><tr><td data-num=\"66\"></td><td><pre></pre></td></tr><tr><td data-num=\"67\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"68\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"69\"></td><td><pre></pre></td></tr><tr><td data-num=\"70\"></td><td><pre>        <span class=\"token keyword\">return</span> view<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"71\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"72\"></td><td><pre></pre></td></tr><tr><td data-num=\"73\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ViewHolder</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"74\"></td><td><pre>        <span class=\"token class-name\">EditText</span> editText<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"75\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"76\"></td><td><pre></pre></td></tr><tr><td data-num=\"77\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">getdata</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"78\"></td><td><pre>        <span class=\"token keyword\">return</span> etc<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"79\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"80\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure>",
            "tags": [
                "编程语言"
            ]
        },
        {
            "id": "https://fufan1025.github.io/2024/03/08/%E4%BD%BF%E7%94%A8Hexo-shoka%E5%88%9B%E4%BD%9C%E8%87%AA%E5%B7%B1%E7%9A%84Blog/",
            "url": "https://fufan1025.github.io/2024/03/08/%E4%BD%BF%E7%94%A8Hexo-shoka%E5%88%9B%E4%BD%9C%E8%87%AA%E5%B7%B1%E7%9A%84Blog/",
            "title": "使用Hexo-Shoka创作自己的Blog",
            "date_published": "2024-03-08T01:43:46.000Z",
            "content_html": "<h1 id=\"流程\"><a class=\"anchor\" href=\"#流程\">#</a> 流程</h1>\n<ol>\n<li>Hexo 框架的安装</li>\n<li>搭建个人仓库</li>\n<li>配置 Hexo 载入 Shoka 主题</li>\n</ol>\n<h1 id=\"hexo框架的安装\"><a class=\"anchor\" href=\"#hexo框架的安装\">#</a> Hexo 框架的安装</h1>\n<ul>\n<li>安装之前请确保以安装 Node.js</li>\n</ul>\n<pre><code class=\"language-cmd\"># 查看版本\nNode -v\n# 安装Hexo框架\n$ npm install hexo-cli -g\n$ hexo init blog\n$ cd blog\n$ npm install\n$ hexo server\n</code></pre>\n<h1 id=\"个人仓库的搭建\"><a class=\"anchor\" href=\"#个人仓库的搭建\">#</a> 个人仓库的搭建</h1>\n<p>这里使用 Github 来搭建博客</p>\n<ol>\n<li>注册 Github 账号</li>\n<li>创建仓库，仓库名选择   <a href=\"http://xn--github-8h6j461w.github.io\">github 名称.github.io</a></li>\n<li>下载 Git</li>\n<li>使用 Git 绑定自己的 Github 账号</li>\n<li>Hexo 绑定仓库</li>\n</ol>\n<h2 id=\"git配置\"><a class=\"anchor\" href=\"#git配置\">#</a> Git 配置</h2>\n<ul>\n<li>使用 Git</li>\n</ul>\n<pre><code class=\"language-cmd\">git config --global user.name &quot;Name&quot;\ngit config --global user.email &quot;Email&quot;\n</code></pre>\n<ul>\n<li>生成密钥</li>\n</ul>\n<pre><code class=\"language-cmd\">ssh-keygen -t rsa -C &quot;Email&quot;\n</code></pre>\n<ul>\n<li>检测连接</li>\n</ul>\n<pre><code class=\"language-cmd\">ssh -T git@github.com\n#连接成功会显示用户名\n</code></pre>\n<h2 id=\"hexo-绑定仓库\"><a class=\"anchor\" href=\"#hexo-绑定仓库\">#</a> Hexo 绑定仓库</h2>\n<p>在根目录下的 <code>_config.yml</code>  中修改</p>\n<figure class=\"highlight yaml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token key atrule\">deploy</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'git'</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token key atrule\">repo</span><span class=\"token punctuation\">:</span> 你的github仓库地址</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token key atrule\">branch</span><span class=\"token punctuation\">:</span> main</pre></td></tr></table></figure><h1 id=\"hexo中shoka的载入\"><a class=\"anchor\" href=\"#hexo中shoka的载入\">#</a> Hexo 中 Shoka 的载入</h1>\n<h2 id=\"载入shoka\"><a class=\"anchor\" href=\"#载入shoka\">#</a> 载入 Shoka</h2>\n<p>在根目录下也就是 <code>blog</code>  目录下右键选择用 Git Bash 打开文件夹</p>\n<p>输入命令，等待安装完成</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">git</span> clone https://github.com/amehime/hexo-theme-shoka.git ./themes/shoka</pre></td></tr></table></figure><p>安装完成后修改站点配置文件 <code>/_config.yml</code> ，把主题改为 <code>shoka</code></p>\n<figure class=\"highlight yaml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token key atrule\">theme</span><span class=\"token punctuation\">:</span> shoka</pre></td></tr></table></figure><p>启用成功后需要安装渲染插件正常显示:</p>\n<p><a href=\"https://shoka.lostyu.me/computer-science/note/theme-shoka-doc/dependents/\">Step.1 依赖插件 - Theme Shoka Documentation - 二进制杂谈 - 计算机科学 | Yume Shoka = 優萌初華 = 有夢書架 (lostyu.me)</a></p>\n<p>安装后输入 <code>hexo三件套</code> 查看网页是否为 <code>Shoka</code></p>\n<p>hexo 三件套</p>\n<pre><code class=\"language-cmd\">hexo cl\nhexo g\nhexo s\n</code></pre>\n<p>如果打开后无法正常显示随机图片请查看下面的链接</p>\n<p><a href=\"https://fufan1025.github.io/2024/03/07/Shoka%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8%E8%87%AA%E5%B7%B1%E7%9A%84%E5%9B%BE%E5%BA%8A/\">Shoka 使用自己的图床</a></p>\n<p>现在就可以正常显示自己的网页了</p>\n<h1 id=\"悄悄话\"><a class=\"anchor\" href=\"#悄悄话\">#</a> 悄悄话</h1>\n<h2 id=\"将博客主页语言设置成中文\"><a class=\"anchor\" href=\"#将博客主页语言设置成中文\">#</a> 将博客主页语言设置成中文</h2>\n<p>将 <code>&lt;root&gt;/thems/Shoka/example/source/_data/languages.yml</code>  中的 zh-CN 部分复制</p>\n<p>在 <code>&lt;root&gt;/source/</code>  中新建 <code>_data</code>  文件夹在里面新建一个 <code>languages.yml</code>  文件，将刚复制的内容黏贴进去然后保存</p>\n<p>打开根目录的配置文件 <code>&lt;root&gt;/_config.yml</code>  将 <code>language</code>  改为 zh-CN</p>\n<h2 id=\"如何将写好的笔记写入博客\"><a class=\"anchor\" href=\"#如何将写好的笔记写入博客\">#</a> 如何将写好的笔记写入博客</h2>\n<p>在根目录下右键用 <code>git bash</code>  打开输入</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>hexo new ‘你的笔记名字’</pre></td></tr></table></figure><p>然后将写好的 markdown 笔记复制进 <code>&lt;root&gt;/source/_post/‘你的笔记名字.md</code>  中保存</p>\n<p>最后 <code>使用hexo三件套</code> 查看效果</p>\n<hr />\n<h2 id=\"特别注意\"><a class=\"anchor\" href=\"#特别注意\">#</a> 特别注意</h2>\n<p>如果没有关闭代码高光或者渲染器版本不是最新可能出现 代码块 显示不全的问题</p>\n<p><strong>关闭代码高光:</strong></p>\n<p>先查看版本</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>hexo version</pre></td></tr></table></figure><p>V7.0.0 及以下:</p>\n<figure class=\"highlight yml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token key atrule\">prismjs</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token key atrule\">enable</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token key atrule\">prismjs</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token key atrule\">enable</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span></pre></td></tr></table></figure><p>V7.0.0 以上:</p>\n<figure class=\"highlight yml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token key atrule\">syntax_highlighter</span><span class=\"token punctuation\">:</span> <span class=\"token comment\">#highlight.js// 注释掉或者删掉</span></pre></td></tr></table></figure><hr />\n<p>配置参考文献</p>\n<p><a href=\"https://mobius-0.github.io/hexo/hexo/\">主图配置过程的补充：</a></p>\n<p><a href=\"https://jiankychen.github.io/posts/c61b9a60/\">Shoka 主题的若干改动：</a></p>\n<p><a href=\"https://shoka.lostyu.me/computer-science/note/theme-shoka-doc/config/\">Shoka 主题大佬配置</a></p>\n<p><a href=\"https://zhuanlan.zhihu.com/p/111614119\">（一）Github + Hexo 搭建个人博客超详细教程 - 知乎 (zhihu.com)</a></p>\n",
            "tags": [
                "shoka",
                "Shoka"
            ]
        },
        {
            "id": "https://fufan1025.github.io/2024/03/07/Shoka%E4%BD%BF%E7%94%A8%E8%87%AA%E5%B7%B1%E7%9A%84%E5%9B%BE%E5%BA%8A/",
            "url": "https://fufan1025.github.io/2024/03/07/Shoka%E4%BD%BF%E7%94%A8%E8%87%AA%E5%B7%B1%E7%9A%84%E5%9B%BE%E5%BA%8A/",
            "title": "Shoka使用自己的图床",
            "date_published": "2024-03-07T05:37:34.000Z",
            "content_html": "<h1 id=\"前言\"><a class=\"anchor\" href=\"#前言\">#</a> 前言</h1>\n<p>在朋友推荐下我了解到 Shoka 主题，在尝试安装后发现网页无法正常随机图片</p>\n<p>上网查询发现是原作者的某博图床接口被屏蔽了，便更换为自己图床</p>\n<h1 id=\"创建github图床\"><a class=\"anchor\" href=\"#创建github图床\">#</a> 创建 Github 图床</h1>\n<p>在这里我使用的是 PicGo 上传图片到 Gitee</p>\n<p>关于使用与配置方法请参考官方文档</p>\n<p>PicGo 官网：<a href=\"https://picgo.github.io/PicGo-Doc/zh/\">https://picgo.github.io/PicGo-Doc/zh/</a></p>\n<p>如果想快速上手可以参考下方链接</p>\n<p><a href=\"https://zhuanlan.zhihu.com/p/489236769\">使用 Github+picGo 搭建图床，保姆级教程来了 - 知乎 (zhihu.com)</a></p>\n<h1 id=\"shoka配置图床\"><a class=\"anchor\" href=\"#shoka配置图床\">#</a> Shoka 配置图床</h1>\n<p><strong>Step1.</strong></p>\n<p>在  <code>&lt;root&gt;\\themes\\shoka\\scripts\\helpers\\engine.js</code>  打开找到代码</p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">var</span> <span class=\"token function-variable function\">parseImage</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">img<span class=\"token punctuation\">,</span> size</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>img<span class=\"token punctuation\">.</span><span class=\"token function\">startsWith</span><span class=\"token punctuation\">(</span><span class=\"token string\">'//'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> img<span class=\"token punctuation\">.</span><span class=\"token function\">startsWith</span><span class=\"token punctuation\">(</span><span class=\"token string\">'http'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>      <span class=\"token keyword\">return</span> img</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        <span class=\"token keyword\">return</span><span class=\"token string\">'https://tva'</span><span class=\"token operator\">+</span>randomServer<span class=\"token operator\">+</span><span class=\"token string\">'.sinaimg.cn/'</span><span class=\"token operator\">+</span>size<span class=\"token operator\">+</span><span class=\"token string\">'/'</span><span class=\"token operator\">+</span>img</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>将代码中这一部分更换为自己的图床链接，更改时建议删除后面的 size</p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token string\">'https://tva'</span><span class=\"token operator\">+</span>randomServer<span class=\"token operator\">+</span><span class=\"token string\">'.sinaimg.cn/'</span><span class=\"token comment\">// 更改为自己的链接</span></pre></td></tr></table></figure><blockquote>\n<p>图床链接前面可以加上 <code>图缓存链接</code> 让图片快速加载</p>\n</blockquote>\n<p>链接：<a href=\"https://images.weserv.nl/?url=\">https://images.weserv.nl/?url=</a></p>\n<blockquote>\n<p>具体为</p>\n</blockquote>\n<p>(图缓存链接) + <a href=\"https://raw.githubusercontent.com/\">https://raw.githubusercontent.com/</a> 用户名 / 仓库名 /main（自己修改的分支名，默认为 main)/</p>\n<blockquote>\n<p>如果嫌麻烦可以使用我的图床链接</p>\n</blockquote>\n<p>链接：<a href=\"https://images.weserv.nl/?url=https://gitee.com/fufan1025/blog_img/raw/master/\">https://images.weserv.nl/?url=https://gitee.com/fufan1025/blog_img/raw/master/</a></p>\n<p>更改后就会像这样</p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">var</span> <span class=\"token function-variable function\">parseImage</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">img<span class=\"token punctuation\">,</span> size</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>img<span class=\"token punctuation\">.</span><span class=\"token function\">startsWith</span><span class=\"token punctuation\">(</span><span class=\"token string\">'//'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> img<span class=\"token punctuation\">.</span><span class=\"token function\">startsWith</span><span class=\"token punctuation\">(</span><span class=\"token string\">'http'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>        <span class=\"token keyword\">return</span> img</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token string\">'https://images.weserv.nl/?url=https://gitee.com/fufan1025/blog_img/raw/master/'</span><span class=\"token operator\">+</span>img</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p><strong>Step2</strong>.</p>\n<p>打开 PicGo, 将相册第二个模式设置为 <code>URL</code>  全选然后点击复制</p>\n<p>创建一个.txt 文件，将复制的内容黏贴进去</p>\n<p>里面会是一堆网页链接加数字，我们只需要后面的数字名称</p>\n<p>例如：</p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token literal-property property\">https</span><span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>cdn<span class=\"token punctuation\">.</span>jsdelivr<span class=\"token punctuation\">.</span>net<span class=\"token operator\">/</span>gh<span class=\"token operator\">/</span>FuFan1025<span class=\"token operator\">/</span>blog<span class=\"token operator\">-</span>img<span class=\"token operator\">/</span>Konachan<span class=\"token punctuation\">.</span>jpg</pre></td></tr></table></figure><p>将前面的链接复制，ctrl+F 全选替换为 - + 空格，(别忘了空格) 变成</p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token operator\">-</span> Konachan<span class=\"token punctuation\">.</span>jpg</pre></td></tr></table></figure><blockquote>\n<p>我的图片数字名称</p>\n</blockquote>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token operator\">-</span> plane_sky_art_129149_1920x1080<span class=\"token punctuation\">.</span>webp</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token operator\">-</span> girl_walk_anime_153292_2560x1080<span class=\"token punctuation\">.</span>webp</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token operator\">-</span> girl_terrace_art_146601_2560x1080<span class=\"token punctuation\">.</span>webp</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token operator\">-</span> girl_smile_umbrella_963266_1920x1200<span class=\"token punctuation\">.</span>webp</pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token operator\">-</span> girl_smile_stars_975800_2560x1080<span class=\"token punctuation\">.</span>webp</pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token operator\">-</span> girl_smile_flower_1035552_1920x1200<span class=\"token punctuation\">.</span>webp</pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token operator\">-</span> girl_sea_summer_941681_2560x1080<span class=\"token punctuation\">.</span>webp</pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token operator\">-</span> girl_river_sunset_1067581_2560x1080<span class=\"token punctuation\">.</span>webp</pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token operator\">-</span> girl_pose_smile_1011693_2560x1080<span class=\"token punctuation\">.</span>webp</pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token operator\">-</span> girl_platform_railway_140282_2560x1080<span class=\"token punctuation\">.</span>webp</pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token operator\">-</span> girl_island_building_207303_1920x1200<span class=\"token punctuation\">.</span>webp</pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token operator\">-</span> sakura_art_sky_122545_1920x1080<span class=\"token punctuation\">.</span>webp</pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token operator\">-</span> girl_halo_butterflies_923017_2560x1080<span class=\"token punctuation\">.</span>webp</pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token operator\">-</span> girl_hair_stars_1075468_2560x1080<span class=\"token punctuation\">.</span>webp</pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token operator\">-</span> girl_hair_shorts_1058776_1920x1080<span class=\"token punctuation\">.</span>webp</pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token operator\">-</span> girl_hair_glow_1021435_1920x1200<span class=\"token punctuation\">.</span>webp</pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token operator\">-</span> girl_hair_dress_1086036_2560x1080<span class=\"token punctuation\">.</span>webp</pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token operator\">-</span> girl_guitar_anime_141048_1920x1200<span class=\"token punctuation\">.</span>webp</pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token operator\">-</span> girl_grass_city_213102_1920x1080<span class=\"token punctuation\">.</span>webp</pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token operator\">-</span> girl_headphones_anime_1079499_1920x1200<span class=\"token punctuation\">.</span>webp</pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token operator\">-</span> girl_chair_window_866827_2560x1080<span class=\"token punctuation\">.</span>webp</pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token operator\">-</span> girl_buildings_city_1060155_1920x1200<span class=\"token punctuation\">.</span>webp</pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token operator\">-</span> girl_blonde_pose_1002941_2560x1080<span class=\"token punctuation\">.</span>webp</pre></td></tr><tr><td data-num=\"24\"></td><td><pre><span class=\"token operator\">-</span> girl_glow_magic_165898_2560x1080<span class=\"token punctuation\">.</span>webp</pre></td></tr><tr><td data-num=\"25\"></td><td><pre><span class=\"token operator\">-</span> girl_gesture_kimono_925253_2560x1080<span class=\"token punctuation\">.</span>webp</pre></td></tr><tr><td data-num=\"26\"></td><td><pre><span class=\"token operator\">-</span> girl_eyes_sunflowers_1013575_2560x1080<span class=\"token punctuation\">.</span>webp</pre></td></tr><tr><td data-num=\"27\"></td><td><pre><span class=\"token operator\">-</span> girl_eyes_dress_1122598_2560x1080<span class=\"token punctuation\">.</span>webp</pre></td></tr><tr><td data-num=\"28\"></td><td><pre><span class=\"token operator\">-</span> girl_ears_sky_994513_1920x1200<span class=\"token punctuation\">.</span>webp</pre></td></tr><tr><td data-num=\"29\"></td><td><pre><span class=\"token operator\">-</span> girl_bag_bus_917489_1920x1200<span class=\"token punctuation\">.</span>webp</pre></td></tr><tr><td data-num=\"30\"></td><td><pre><span class=\"token operator\">-</span> girl_backpack_road_1160862_1920x1080<span class=\"token punctuation\">.</span>webp</pre></td></tr><tr><td data-num=\"31\"></td><td><pre><span class=\"token operator\">-</span> girl_angel_sky_1216917_1920x1200<span class=\"token punctuation\">.</span>webp</pre></td></tr><tr><td data-num=\"32\"></td><td><pre><span class=\"token operator\">-</span> girl_angel_halo_991517_2560x1080<span class=\"token punctuation\">.</span>webp</pre></td></tr><tr><td data-num=\"33\"></td><td><pre><span class=\"token operator\">-</span> girl_blonde_cloak_1044103_1920x1200<span class=\"token punctuation\">.</span>webp</pre></td></tr><tr><td data-num=\"34\"></td><td><pre><span class=\"token operator\">-</span> child_river_dreams_127495_1920x1080<span class=\"token punctuation\">.</span>webp</pre></td></tr><tr><td data-num=\"35\"></td><td><pre><span class=\"token operator\">-</span> anime_girl_sky_162368_1920x1200<span class=\"token punctuation\">.</span>webp</pre></td></tr><tr><td data-num=\"36\"></td><td><pre><span class=\"token operator\">-</span> Konachan<span class=\"token punctuation\">.</span>webp</pre></td></tr><tr><td data-num=\"37\"></td><td><pre><span class=\"token operator\">-</span> fulilian<span class=\"token punctuation\">.</span>webp</pre></td></tr></table></figure><p>将成品把 <code>&lt;root&gt;\\themes\\shoka\\_images.yml</code>  中所有内容替换然后保存</p>\n<p>最后 Git 打开 hexo 根目录  <code>输入hexo cl &amp;&amp; hexo g &amp;&amp; hexo s</code>  查看效果</p>\n<p>大功告成！</p>\n<p>本方法参考链接：<a href=\"https://ui123456ax.github.io/2023/06/23/02_Shoka%E5%9B%BE%E5%BA%8A%E4%BF%AE%E5%A4%8D/\">关于 Shoka 图床修复 | Yiqiu Note = ほしづきよ = 始于两千年 (ui123456ax.github.io)</a> 可以查看更多方法</p>\n",
            "tags": [
                "shoka",
                "Shoka"
            ]
        },
        {
            "id": "https://fufan1025.github.io/2024/03/07/%E6%BF%80%E6%B4%BB/",
            "url": "https://fufan1025.github.io/2024/03/07/%E6%BF%80%E6%B4%BB/",
            "title": "激活",
            "date_published": "2024-03-07T00:47:26.000Z",
            "content_html": "<h1 id=\"激活windows专业版\"><a class=\"anchor\" href=\"#激活windows专业版\">#</a> 激活 windows 专业版</h1>\n<blockquote>\n<p>修改专业版密钥获取升级</p>\n</blockquote>\n<pre><code>W269N-WFGWX-YVC9B-4J6C9-T83GX\n\n236TW-X778T-8MV9F-937GT-QVKBB\n\nWMN7B-Y7TKF-Y49QB-TMQ8T-GMT6T\n\nFJHWT-KDGHY-K2384-93CT7-323RC\n</code></pre>\n<blockquote>\n<p>如果未能成功激活则使用下面的代码 (要使用管理员模式)</p>\n</blockquote>\n<pre><code>slmgr /ipk W269N-WFGWX-YVC9B-4J6C9-T83GX\nslmgr /skms kms.03k.org\nslmgr /ato\n</code></pre>\n<hr />\n<h1 id=\"typora激活\"><a class=\"anchor\" href=\"#typora激活\">#</a> Typora 激活</h1>\n<h2 id=\"js激活\"><a class=\"anchor\" href=\"#js激活\">#</a> Js 激活</h2>\n<p>官网下载安装</p>\n<figure class=\"highlight arduino\"><figcaption data-lang=\"arduino\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>复制代码https<span class=\"token operator\">:</span><span class=\"token comment\">//www.typoraio.cn/</span></pre></td></tr></table></figure><p><strong>不运行软件的情况下，进入安装目录打开 LicenseIndex.180dd4c7.5c394f9a.chunk.js 文件</strong></p>\n<figure class=\"highlight arduino\"><figcaption data-lang=\"arduino\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>复制代码安装盘符<span class=\"token punctuation\">(</span>默认C盘<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span>\\Typora\\resources\\page<span class=\"token operator\">-</span>dist\\static\\js\\LicenseIndex<span class=\"token punctuation\">.</span><span class=\"token number\">180</span>dd4c7<span class=\"token punctuation\">.</span><span class=\"token number\">5</span>c394f9a<span class=\"token punctuation\">.</span>chunk<span class=\"token punctuation\">.</span>js</pre></td></tr></table></figure><p><strong>搜索关键代码 e.hasActivated=&quot;true&quot;</strong></p>\n<figure class=\"highlight ini\"><figcaption data-lang=\"ini\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token key attr-name\">ini复制代码将搜索到的位置的【e.hasActivated</span><span class=\"token punctuation\">=</span><span class=\"token value attr-value\">\"true\"==】 后面添加 【\"true\",】</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token key attr-name\">即：e.hasActivated</span><span class=\"token punctuation\">=</span><span class=\"token value attr-value\">\"true\"==\"true\",</span></pre></td></tr></table></figure><h2 id=\"激活码激活\"><a class=\"anchor\" href=\"#激活码激活\">#</a> 激活码激活</h2>\n<ul>\n<li>Step 1: 下载激活工具<a href=\"https://gitee.com/fufan1025/note_img/blob/master/Tools/NodeInject-windows.zip\"> Tools/NodeInject-windows.zip・fufanfan/note_img - 码云 - 开源中国 (gitee.com)</a></li>\n<li>Step 2: 将工具解压放入 Typora 根目录中</li>\n<li>使用控制台打开输入  <code>.\\node_ject.exe</code> , <code>.\\license-gen.exe</code>  获取 License 后进入 Typora 激活激活 (目前版本 1.8.10)</li>\n</ul>\n",
            "tags": [
                "电脑学习"
            ]
        }
    ]
}